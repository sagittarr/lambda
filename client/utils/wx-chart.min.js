/*!
 * wx-chart.js
 * Chart for WeiXin application
 * Version: 1.0.0
 *
 * Copyright 2016 Jone Casper
 * Released under the MIT license
 * https://github.com/xch89820/wx-chart/blob/master/LICENSE.md
 */
"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){if("object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.WxChart=t()}}(function(){var t;return function t(e,n,i){function r(a,l){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!l&&u)return u(a,!0);if(o)return o(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){e.exports=t("./lib/bezier")},{"./lib/bezier":2}],2:[function(t,e,n){!function(){function n(t,e,n,i,r){"undefined"==typeof r&&(r=.5);var o=c.projectionratio(r,t),a=1-o,l={x:o*e.x+a*i.x,y:o*e.y+a*i.y},u=c.abcratio(r,t),s={x:n.x+(n.x-l.x)/u,y:n.y+(n.y-l.y)/u};return{A:s,B:n,C:l}}var i=Math.abs,r=Math.min,o=Math.max,a=Math.acos,l=Math.sqrt,u=Math.PI,s={x:0,y:0,z:0},c=t("./utils.js"),f=t("./poly-bezier.js"),h=function(t){var e=t&&t.forEach?t:[].slice.call(arguments),n=!1;if("object"===_typeof2(e[0])){n=e.length;var r=[];e.forEach(function(t){["x","y","z"].forEach(function(e){"undefined"!=typeof t[e]&&r.push(t[e])})}),e=r}var o=!1,a=e.length;if(n){if(n>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(6!==a&&8!==a&&9!==a&&12!==a&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var l=!o&&(9===a||12===a)||t&&t[0]&&"undefined"!=typeof t[0].z;this._3d=l;for(var u=[],s=0,f=l?3:2;s<a;s+=f){var h={x:e[s],y:e[s+1]};l&&(h.z=e[s+2]),u.push(h)}this.order=u.length-1,this.points=u;var d=["x","y"];l&&d.push("z"),this.dims=d,this.dimlen=d.length,function(t){for(var e=t.order,n=t.points,r=c.align(n,{p1:n[0],p2:n[e]}),o=0;o<r.length;o++)if(i(r[o].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()};h.fromSVG=function(t){var e=t.match(/[-+]?\d*\.?\d+(?:[eE][-+]?\d+)?/g).map(parseFloat),n=/[cq]/.test(t);return n?(e=e.map(function(t,n){return n<2?t:t+e[n%2]}),new h(e)):new h(e)},h.quadraticFromPoints=function(t,e,i,r){if("undefined"==typeof r&&(r=.5),0===r)return new h(e,e,i);if(1===r)return new h(t,e,e);var o=n(2,t,e,i,r);return new h(t,o.A,i)},h.cubicFromPoints=function(t,e,i,r,o){"undefined"==typeof r&&(r=.5);var a=n(3,t,e,i,r);"undefined"==typeof o&&(o=c.dist(e,a.C));var l=o*(1-r)/r,u=c.dist(t,i),s=(i.x-t.x)/u,f=(i.y-t.y)/u,d=o*s,p=o*f,v=l*s,y=l*f,g={x:e.x-d,y:e.y-p},x={x:e.x+v,y:e.y+y},b=a.A,m={x:b.x+(g.x-b.x)/(1-r),y:b.y+(g.y-b.y)/(1-r)},w={x:b.x+(x.x-b.x)/r,y:b.y+(x.y-b.y)/r},_={x:t.x+(m.x-t.x)/r,y:t.y+(m.y-t.y)/r},k={x:i.x+(w.x-i.x)/(1-r),y:i.y+(w.y-i.y)/(1-r)};return new h(t,_,k,i)};var d=function(){return c};h.getUtils=d,h.prototype={getUtils:d,valueOf:function(){return this.toString()},toString:function(){return c.pointsToString(this.points)},toSVG:function(t){if(this._3d)return!1;for(var e=this.points,n=e[0].x,i=e[0].y,r=["M",n,i,2===this.order?"Q":"C"],o=1,a=e.length;o<a;o++)r.push(e[o].x),r.push(e[o].y);return r.join(" ")},update:function(){this.dpoints=[];for(var t=this.points,e=t.length,n=e-1;e>1;e--,n--){for(var i,r=[],o=0;o<n;o++)i={x:n*(t[o+1].x-t[o].x),y:n*(t[o+1].y-t[o].y)},this._3d&&(i.z=n*(t[o+1].z-t[o].z)),r.push(i);this.dpoints.push(r),t=r}this.computedirection()},computedirection:function(){var t=this.points,e=c.angle(t[0],t[this.order],t[1]);this.clockwise=e>0},length:function(){return c.length(this.derivative.bind(this))},_lut:[],getLUT:function(t){if(t=t||100,this._lut.length===t)return this._lut;this._lut=[];for(var e=0;e<=t;e++)this._lut.push(this.compute(e/t));return this._lut},on:function(t,e){e=e||5;for(var n,i=this.getLUT(),r=[],o=0,a=0;a<i.length;a++)n=i[a],c.dist(n,t)<e&&(r.push(n),o+=a/i.length);return!!r.length&&(o/=r.length)},project:function(t){var e=this.getLUT(),n=e.length-1,i=c.closest(e,t),r=i.mdist,o=i.mpos;if(0===o||o===n){var a=o/n,l=this.compute(a);return l.t=a,l.d=r,l}var u,a,s,f,h=(o-1)/n,d=(o+1)/n,p=.1/n;for(r+=1,a=h,u=a;a<d+p;a+=p)s=this.compute(a),f=c.dist(t,s),f<r&&(r=f,u=a);return s=this.compute(u),s.t=u,s.d=r,s},get:function(t){return this.compute(t)},point:function(t){return this.points[t]},compute:function(t){if(0===t)return this.points[0];if(1===t)return this.points[this.order];var e=this.points,n=1-t;if(1===this.order)return c={x:n*e[0].x+t*e[1].x,y:n*e[0].y+t*e[1].y},this._3d&&(c.z=n*e[0].z+t*e[1].z),c;if(this.order<4){var i,r,o,a=n*n,l=t*t,u=0;2===this.order?(e=[e[0],e[1],e[2],s],i=a,r=n*t*2,o=l):3===this.order&&(i=a*n,r=a*t*3,o=n*l*3,u=t*l);var c={x:i*e[0].x+r*e[1].x+o*e[2].x+u*e[3].x,y:i*e[0].y+r*e[1].y+o*e[2].y+u*e[3].y};return this._3d&&(c.z=i*e[0].z+r*e[1].z+o*e[2].z+u*e[3].z),c}for(var f=JSON.parse(JSON.stringify(this.points));f.length>1;){for(var h=0;h<f.length-1;h++)f[h]={x:f[h].x+(f[h+1].x-f[h].x)*t,y:f[h].y+(f[h+1].y-f[h].y)*t},"undefined"!=typeof f[h].z&&(f[h]=f[h].z+(f[h+1].z-f[h].z)*t);f.splice(f.length-1,1)}return f[0]},raise:function(){for(var t,e,n,i=this.points,r=[i[0]],o=i.length,t=1;t<o;t++)e=i[t],n=i[t-1],r[t]={x:(o-t)/o*e.x+t/o*n.x,y:(o-t)/o*e.y+t/o*n.y};return r[o]=i[o-1],new h(r)},derivative:function(t){var e,n,i=1-t,r=0,o=this.dpoints[0];2===this.order&&(o=[o[0],o[1],s],e=i,n=t),3===this.order&&(e=i*i,n=i*t*2,r=t*t);var a={x:e*o[0].x+n*o[1].x+r*o[2].x,y:e*o[0].y+n*o[1].y+r*o[2].y};return this._3d&&(a.z=e*o[0].z+n*o[1].z+r*o[2].z),a},inflections:function(){return c.inflections(this.points)},normal:function(t){return this._3d?this.__normal3(t):this.__normal2(t)},__normal2:function(t){var e=this.derivative(t),n=l(e.x*e.x+e.y*e.y);return{x:-e.y/n,y:e.x/n}},__normal3:function(t){var e=this.derivative(t),n=this.derivative(t+.01),i=l(e.x*e.x+e.y*e.y+e.z*e.z),r=l(n.x*n.x+n.y*n.y+n.z*n.z);e.x/=i,e.y/=i,e.z/=i,n.x/=r,n.y/=r,n.z/=r;var o={x:n.y*e.z-n.z*e.y,y:n.z*e.x-n.x*e.z,z:n.x*e.y-n.y*e.x},a=l(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=a,o.y/=a,o.z/=a;var u=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z],s={x:u[0]*e.x+u[1]*e.y+u[2]*e.z,y:u[3]*e.x+u[4]*e.y+u[5]*e.z,z:u[6]*e.x+u[7]*e.y+u[8]*e.z};return s},hull:function(t){var e,n=this.points,i=[],r=[],o=0,a=0,l=0;for(r[o++]=n[0],r[o++]=n[1],r[o++]=n[2],3===this.order&&(r[o++]=n[3]);n.length>1;){for(i=[],a=0,l=n.length-1;a<l;a++)e=c.lerp(t,n[a],n[a+1]),r[o++]=e,i.push(e);n=i}return r},split:function(t,e){if(0===t&&e)return this.split(e).left;if(1===e)return this.split(t).right;var n=this.hull(t),i={left:new h(2===this.order?[n[0],n[3],n[5]]:[n[0],n[4],n[7],n[9]]),right:new h(2===this.order?[n[5],n[4],n[2]]:[n[9],n[8],n[6],n[3]]),span:n};if(i.left._t1=c.map(0,0,1,this._t1,this._t2),i.left._t2=c.map(t,0,1,this._t1,this._t2),i.right._t1=c.map(t,0,1,this._t1,this._t2),i.right._t2=c.map(1,0,1,this._t1,this._t2),!e)return i;e=c.map(e,t,1,0,1);var r=i.right.split(e);return r.left},extrema:function(){var t,e,n=this.dims,i={},r=[];return n.forEach(function(n){e=function(t){return t[n]},t=this.dpoints[0].map(e),i[n]=c.droots(t),3===this.order&&(t=this.dpoints[1].map(e),i[n]=i[n].concat(c.droots(t))),i[n]=i[n].filter(function(t){return t>=0&&t<=1}),r=r.concat(i[n].sort())}.bind(this)),r=r.sort().filter(function(t,e){return r.indexOf(t)===e}),i.values=r,i},bbox:function(){var t=this.extrema(),e={};return this.dims.forEach(function(n){e[n]=c.getminmax(this,n,t[n])}.bind(this)),e},overlaps:function(t){var e=this.bbox(),n=t.bbox();return c.bboxoverlap(e,n)},offset:function(t,e){if("undefined"!=typeof e){var n=this.get(t),i=this.normal(t),r={c:n,n:i,x:n.x+i.x*e,y:n.y+i.y*e};return this._3d&&(r.z=n.z+i.z*e),r}if(this._linear){var o=this.normal(0),a=this.points.map(function(e){var n={x:e.x+t*o.x,y:e.y+t*o.y};return e.z&&i.z&&(n.z=e.z+t*o.z),n});return[new h(a)]}var l=this.reduce();return l.map(function(e){return e.scale(t)})},simple:function(){if(3===this.order){var t=c.angle(this.points[0],this.points[3],this.points[1]),e=c.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&e<0||t<0&&e>0)return!1}var n=this.normal(0),r=this.normal(1),o=n.x*r.x+n.y*r.y;this._3d&&(o+=n.z*r.z);var l=i(a(o));return l<u/3},reduce:function(){var t,e,n=0,r=0,o=.01,a=[],l=[],u=this.extrema().values;for(u.indexOf(0)===-1&&(u=[0].concat(u)),u.indexOf(1)===-1&&u.push(1),n=u[0],t=1;t<u.length;t++)r=u[t],e=this.split(n,r),e._t1=n,e._t2=r,a.push(e),n=r;return a.forEach(function(t){for(n=0,r=0;r<=1;)for(r=n+o;r<=1+o;r+=o)if(e=t.split(n,r),!e.simple()){if(r-=o,i(n-r)<o)return[];e=t.split(n,r),e._t1=c.map(n,0,1,t._t1,t._t2),e._t2=c.map(r,0,1,t._t1,t._t2),l.push(e),n=r;break}n<1&&(e=t.split(n,1),e._t1=c.map(n,0,1,t._t1,t._t2),e._t2=t._t2,l.push(e))}),l},scale:function(t){var e=this.order,n=!1;if("function"==typeof t&&(n=t),n&&2===e)return this.raise().scale(n);var i=this.clockwise,r=n?n(0):t,o=n?n(1):t,a=[this.offset(0,10),this.offset(1,10)],u=c.lli4(a[0],a[0].c,a[1],a[1].c);if(!u)throw new Error("cannot scale this curve. Try reducing it first.");var s=this.points,f=[];return[0,1].forEach(function(t){var n=f[t*e]=c.copy(s[t*e]);n.x+=(t?o:r)*a[t].n.x,n.y+=(t?o:r)*a[t].n.y}.bind(this)),n?([0,1].forEach(function(r){if(2!==this.order||!r){var o=s[r+1],a={x:o.x-u.x,y:o.y-u.y},c=n?n((r+1)/e):t;n&&!i&&(c=-c);var h=l(a.x*a.x+a.y*a.y);a.x/=h,a.y/=h,f[r+1]={x:o.x+c*a.x,y:o.y+c*a.y}}}.bind(this)),new h(f)):([0,1].forEach(function(t){if(2!==this.order||!t){var n=f[t*e],i=this.derivative(t),r={x:n.x+i.x,y:n.y+i.y};f[t+1]=c.lli4(n,r,u,s[t+1])}}.bind(this)),new h(f))},outline:function(t,e,n,i){function r(t,e,n,i,r){return function(o){var a=i/n,l=(i+r)/n,u=e-t;return c.map(o,0,1,t+a*u,t+l*u)}}e="undefined"==typeof e?t:e;var o,a=this.reduce(),l=a.length,u=[],s=[],h=0,d=this.length(),p="undefined"!=typeof n&&"undefined"!=typeof i;a.forEach(function(o){_=o.length(),p?(u.push(o.scale(r(t,n,d,h,_))),s.push(o.scale(r(-e,-i,d,h,_)))):(u.push(o.scale(t)),s.push(o.scale(-e))),h+=_}),s=s.map(function(t){return o=t.points,o[3]?t.points=[o[3],o[2],o[1],o[0]]:t.points=[o[2],o[1],o[0]],t}).reverse();var v=u[0].points[0],y=u[l-1].points[u[l-1].points.length-1],g=s[l-1].points[s[l-1].points.length-1],x=s[0].points[0],b=c.makeline(g,v),m=c.makeline(y,x),w=[b].concat(u).concat([m]).concat(s),_=w.length;return new f(w)},outlineshapes:function(t,e,n){e=e||t;for(var i=this.outline(t,e).curves,r=[],o=1,a=i.length;o<a/2;o++){var l=c.makeshape(i[o],i[a-o],n);l.startcap.virtual=o>1,l.endcap.virtual=o<a/2-1,r.push(l)}return r},intersects:function(t,e){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof h&&(t=t.reduce()),this.curveintersects(this.reduce(),t,e)):this.selfintersects(e)},lineIntersects:function(t){var e=r(t.p1.x,t.p2.x),n=r(t.p1.y,t.p2.y),i=o(t.p1.x,t.p2.x),a=o(t.p1.y,t.p2.y),l=this;return c.roots(this.points,t).filter(function(t){var r=l.get(t);return c.between(r.x,e,i)&&c.between(r.y,n,a)})},selfintersects:function(t){var e,n,i,r,o=this.reduce(),a=o.length-2,l=[];for(e=0;e<a;e++)i=o.slice(e,e+1),r=o.slice(e+2),n=this.curveintersects(i,r,t),l=l.concat(n);return l},curveintersects:function(t,e,n){var i=[];t.forEach(function(t){e.forEach(function(e){t.overlaps(e)&&i.push({left:t,right:e})})});var r=[];return i.forEach(function(t){var e=c.pairiteration(t.left,t.right,n);e.length>0&&(r=r.concat(e))}),r},arcs:function(t){t=t||.5;var e=[];return this._iterate(t,e)},_error:function(t,e,n,r){var o=(r-n)/4,a=this.get(n+o),l=this.get(r-o),u=c.dist(t,e),s=c.dist(t,a),f=c.dist(t,l);return i(s-u)+i(f-u)},_iterate:function(t,e){var n,i=0,r=1;do{n=0,r=1;var o,a,l,u,s,f=this.get(i),h=!1,d=!1,p=r,v=1,y=0;do{d=h,u=l,p=(i+r)/2,y++,o=this.get(p),a=this.get(r),l=c.getccenter(f,o,a),l.interval={start:i,end:r};var g=this._error(l,f,i,r);if(h=g<=t,s=d&&!h,s||(v=r),h){if(r>=1){l.interval.end=v=1,u=l;break}r+=(r-i)/2}else r=p}while(!s&&n++<100);if(n>=100)break;u=u?u:l,e.push(u),i=v}while(r<1);return e}},e.exports=h}()},{"./poly-bezier.js":3,"./utils.js":4}],3:[function(t,e,n){!function(){var n=t("./utils.js"),i=function(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)};i.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map(function(t){return n.pointsToString(t.points)}).join(", ")+"]"},addCurve:function(t){this.curves.push(t),this._3d=this._3d||t._3d},length:function(){return this.curves.map(function(t){return t.length()}).reduce(function(t,e){return t+e})},curve:function(t){return this.curves[t]},bbox:function t(){for(var e=this.curves,t=e[0].bbox(),i=1;i<e.length;i++)n.expandbox(t,e[i].bbox());return t},offset:function t(e){var t=[];return this.curves.forEach(function(n){t=t.concat(n.offset(e))}),new i(t)}},e.exports=i}()},{"./utils.js":4}],4:[function(t,e,n){!function(){var n=Math.abs,i=Math.cos,r=Math.sin,o=Math.acos,a=Math.atan2,l=Math.sqrt,u=Math.pow,s=function(t){return t<0?-u(-t,1/3):u(t,1/3)},c=Math.PI,f=2*c,h=c/2,d=1e-6,p=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER,y={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,e){var n=e(t),i=n.x*n.x+n.y*n.y;return"undefined"!=typeof n.z&&(i+=n.z*n.z),l(i)},between:function(t,e,n){return e<=t&&t<=n||y.approximately(t,e)||y.approximately(t,n)},approximately:function(t,e,i){return n(t-e)<=(i||d)},length:function(t){var e,n,i=.5,r=0,o=y.Tvalues.length;for(e=0;e<o;e++)n=i*y.Tvalues[e]+i,r+=y.Cvalues[e]*y.arcfn(n,t);return i*r},map:function(t,e,n,i,r){var o=n-e,a=r-i,l=t-e,u=l/o;return i+a*u},lerp:function(t,e,n){var i={x:e.x+t*(n.x-e.x),y:e.y+t*(n.y-e.y)};return e.z&&n.z&&(i.z=e.z+t*(n.z-e.z)),i},pointToString:function(t){var e=t.x+"/"+t.y;return"undefined"!=typeof t.z&&(e+="/"+t.z),e},pointsToString:function(t){return"["+t.map(y.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-t.x,l=n.y-t.y,u=i*l-r*o,s=i*o+r*l;return a(u,s)},round:function(t,e){var n=""+t,i=n.indexOf(".");return parseFloat(n.substring(0,i+1+e))},dist:function(t,e){var n=t.x-e.x,i=t.y-e.y;return l(n*n+i*i)},closest:function(t,e){var n,i,r=u(2,63);return t.forEach(function(t,o){i=y.dist(e,t),i<r&&(r=i,n=o)}),{mdist:r,mpos:n}},abcratio:function(t,e){if(2!==e&&3!==e)return!1;if("undefined"==typeof t)t=.5;else if(0===t||1===t)return t;var i=u(t,e)+u(1-t,e),r=i-1;return n(r/i)},projectionratio:function(t,e){if(2!==e&&3!==e)return!1;if("undefined"==typeof t)t=.5;else if(0===t||1===t)return t;var n=u(1-t,e),i=u(t,e)+n;return n/i},lli8:function(t,e,n,i,r,o,a,l){var u=(t*i-e*n)*(r-a)-(t-n)*(r*l-o*a),s=(t*i-e*n)*(o-l)-(e-i)*(r*l-o*a),c=(t-n)*(o-l)-(e-i)*(r-a);return 0!=c&&{x:u/c,y:s/c}},lli4:function(t,e,n,i){var r=t.x,o=t.y,a=e.x,l=e.y,u=n.x,s=n.y,c=i.x,f=i.y;return y.lli8(r,o,a,l,u,s,c,f)},lli:function(t,e){return y.lli4(t,t.c,e,e.c)},makeline:function(e,n){var i=t("./bezier"),r=e.x,o=e.y,a=n.x,l=n.y,u=(a-r)/3,s=(l-o)/3;return new i(r,o,r+u,o+s,r+2*u,o+2*s,a,l)},findbbox:function(t){var e=p,n=p,i=v,r=v;return t.forEach(function(t){var o=t.bbox();e>o.x.min&&(e=o.x.min),n>o.y.min&&(n=o.y.min),i<o.x.max&&(i=o.x.max),r<o.y.max&&(r=o.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:n,mid:(n+r)/2,max:r,size:r-n}}},shapeintersections:function(t,e,n,i,r){if(!y.bboxoverlap(e,i))return[];var o=[],a=[t.startcap,t.forward,t.back,t.endcap],l=[n.startcap,n.forward,n.back,n.endcap];return a.forEach(function(e){e.virtual||l.forEach(function(i){if(!i.virtual){var a=e.intersects(i,r);a.length>0&&(a.c1=e,a.c2=i,a.s1=t,a.s2=n,o.push(a))}})}),o},makeshape:function(t,e,n){var i=e.points.length,r=t.points.length,o=y.makeline(e.points[i-1],t.points[0]),a=y.makeline(t.points[r-1],e.points[0]),l={startcap:o,forward:t,back:e,endcap:a,bbox:y.findbbox([o,t,e,a])},u=y;return l.intersections=function(t){return u.shapeintersections(l,l.bbox,t,t.bbox,n)},l},getminmax:function(t,e,n){if(!n)return{min:0,max:0};var i,r,o=p,a=v;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(var l=0,u=n.length;l<u;l++)i=n[l],r=t.get(i),r[e]<o&&(o=r[e]),r[e]>a&&(a=r[e]);return{min:o,mid:(o+a)/2,max:a,size:a-o}},align:function(t,e){var n=e.p1.x,o=e.p1.y,l=-a(e.p2.y-o,e.p2.x-n),u=function(t){return{x:(t.x-n)*i(l)-(t.y-o)*r(l),y:(t.x-n)*r(l)+(t.y-o)*i(l)}};return t.map(u)},roots:function(t,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};var n=t.length-1,r=y.align(t,e),a=function(t){return 0<=t&&t<=1};if(2===n){var u=r[0].y,c=r[1].y,h=r[2].y,d=u-2*c+h;if(0!==d){var p=-l(c*c-u*h),v=-u+c,g=-(p+v)/d,x=-(-p+v)/d;return[g,x].filter(a)}return c!==h&&0===d?[(2*c-h)/2*(c-h)].filter(a):[]}var b,g,m,w,_,k=r[0].y,C=r[1].y,P=r[2].y,S=r[3].y,d=-k+3*C-3*P+S,u=(3*k-6*C+3*P)/d,c=(-3*k+3*C)/d,h=k/d,r=(3*c-u*u)/3,A=r/3,O=(2*u*u*u-9*u*c+27*h)/27,T=O/2,M=T*T+A*A*A;if(M<0){var W=-r/3,j=W*W*W,z=l(j),E=-O/(2*z),B=E<-1?-1:E>1?1:E,R=o(B),I=s(z),D=2*I;return m=D*i(R/3)-u/3,w=D*i((R+f)/3)-u/3,_=D*i((R+2*f)/3)-u/3,[m,w,_].filter(a)}if(0===M)return b=T<0?s(-T):-s(T),m=2*b-u/3,w=-b-u/3,[m,w].filter(a);var L=l(M);return b=s(-T+L),g=s(T+L),[b-g-u/3].filter(a)},droots:function(t){if(3===t.length){var e=t[0],n=t[1],i=t[2],r=e-2*n+i;if(0!==r){var o=-l(n*n-e*i),a=-e+n,u=-(o+a)/r,s=-(-o+a)/r;return[u,s]}return n!==i&&0===r?[(2*n-i)/(2*(n-i))]:[]}if(2===t.length){var e=t[0],n=t[1];return e!==n?[e/(e-n)]:[]}},inflections:function(t){if(t.length<4)return[];var e=y.align(t,{p1:t[0],p2:t.slice(-1)[0]}),n=e[2].x*e[1].y,i=e[3].x*e[1].y,r=e[1].x*e[2].y,o=e[3].x*e[2].y,a=18*(-3*n+2*i+3*r-o),l=18*(3*n-i-3*r),u=18*(r-n);if(y.approximately(a,0)){if(!y.approximately(l,0)){var s=-u/l;if(0<=s&&s<=1)return[s]}return[]}var c=l*l-4*a*u,f=Math.sqrt(c),o=2*a;return y.approximately(o,0)?[]:[(f-l)/o,-(l+f)/o].filter(function(t){return 0<=t&&t<=1})},bboxoverlap:function(t,e){var i,r,o,a,l,u=["x","y"],s=u.length;for(i=0;i<s;i++)if(r=u[i],o=t[r].mid,a=e[r].mid,l=(t[r].size+e[r].size)/2,n(o-a)>=l)return!1;return!0},expandbox:function(t,e){e.x.min<t.x.min&&(t.x.min=e.x.min),e.y.min<t.y.min&&(t.y.min=e.y.min),e.z&&e.z.min<t.z.min&&(t.z.min=e.z.min),e.x.max>t.x.max&&(t.x.max=e.x.max),e.y.max>t.y.max&&(t.y.max=e.y.max),e.z&&e.z.max>t.z.max&&(t.z.max=e.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,e,n){var i=t.bbox(),r=e.bbox(),o=1e5,a=n||.5;if(i.x.size+i.y.size<a&&r.x.size+r.y.size<a)return[(o*(t._t1+t._t2)/2|0)/o+"/"+(o*(e._t1+e._t2)/2|0)/o];var l=t.split(.5),u=e.split(.5),s=[{left:l.left,right:u.left},{left:l.left,right:u.right},{left:l.right,right:u.right},{left:l.right,right:u.left}];s=s.filter(function(t){return y.bboxoverlap(t.left.bbox(),t.right.bbox())});var c=[];return 0===s.length?c:(s.forEach(function(t){c=c.concat(y.pairiteration(t.left,t.right,a))}),c=c.filter(function(t,e){return c.indexOf(t)===e}))},getccenter:function(t,e,n){var o,l=e.x-t.x,u=e.y-t.y,s=n.x-e.x,c=n.y-e.y,d=l*i(h)-u*r(h),p=l*r(h)+u*i(h),v=s*i(h)-c*r(h),g=s*r(h)+c*i(h),x=(t.x+e.x)/2,b=(t.y+e.y)/2,m=(e.x+n.x)/2,w=(e.y+n.y)/2,_=x+d,k=b+p,C=m+v,P=w+g,S=y.lli8(x,b,_,k,m,w,C,P),A=y.dist(S,t),O=a(t.y-S.y,t.x-S.x),T=a(e.y-S.y,e.x-S.x),M=a(n.y-S.y,n.x-S.x);return O<M?((O>T||T>M)&&(O+=f),O>M&&(o=M,M=O,O=o)):M<T&&T<O?(o=M,M=O,O=o):M+=f,S.s=O,S.e=M,S.r=A,S}};e.exports=y}()},{"./bezier":2}],5:[function(t,e,n){var i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t)}return r(t,[{key:"init",value:function(t,e,n){if(this.mixins=t,this.context=e,this.opt={warn:!0,mergeDuplicates:!0},this.contextMethods=Object.getOwnPropertyNames(this.context.constructor.prototype),this.reactMethods=["componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],n&&(this.opt.warn=void 0!==n.warn?n.warn:this.opt.warn,this.opt.mergeDuplicates=void 0!==n.mergeDuplicates?n.mergeDuplicates:this.opt.mergeDuplicates),this.mixins.constructor===Array)t.map(function(t){this.grabMethods(t)},this);else{if("function"!=typeof t&&"object"!==("undefined"==typeof t?"undefined":_typeof2(t)))throw"mixins expects a function, an array, or an object. Please and thank you";this.grabMethods(t)}}},{key:"addNewMethod",value:function(t,e){this.mixins.prototype?this.context.constructor.prototype[t]=this.mixins.prototype[t]:this.context.constructor.prototype[t]="object"===("undefined"==typeof e?"undefined":_typeof2(e))?e[t]:e.prototype[t],this.contextMethods=Object.getOwnPropertyNames(this.context.constructor.prototype)}},{key:"extendMethod",value:function(t,e,n){var i=this.context[e],r="object"===("undefined"==typeof n?"undefined":_typeof2(n))?n[t]:n.prototype[t];this.context[t]=function(){r.call(this,arguments),i.call(this,arguments)}}},{key:"grabMethods",value:function(t){var e=this,n=t,i="object"===("undefined"==typeof t?"undefined":_typeof2(t))?Object.getOwnPropertyNames(t):Object.getOwnPropertyNames(t.prototype);i.map(function(t){"constructor"!==t&&"render"!==t&&e.checkForMatch(t,n)},this)}},{key:"checkForMatch",value:function(t,e){var n=this;this.contextMethods.map(function(i){t===i&&(n.reactMethods.indexOf(t)>-1?n.extendMethod(t,i,e):(n.opt.warn&&console.warn(t+" method already exists within the "+n.context.constructor.name+" component."),n.opt.mergeDuplicates&&n.extendMethod(t,i,e)))}),this.addNewMethod(t,e)}}]),t}(),a=new o;e.exports=a.init.bind(a)},{}],6:[function(e,n,i){(function(r){!function(e){if("object"===("undefined"==typeof i?"undefined":_typeof2(i))&&"undefined"!=typeof n)n.exports=e();else if("function"==typeof t&&t.amd)t([],e);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,o.Ez=e()}}(function(){return function t(n,i,r){function o(l,u){if(!i[l]){if(!n[l]){var s="function"==typeof e&&e;if(!u&&s)return s(l,!0);if(a)return a(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var f=i[l]={exports:{}};n[l][0].call(f.exports,function(t){var e=n[l][1][t];return o(e?e:t)},f,f.exports,t,n,i,r)}return i[l].exports}for(var a="function"==typeof e&&e,l=0;l<r.length;l++)o(r[l]);return o}({1:[function(t,e,n){function i(t,e,n,i){return n*(t/=i)*t+e}function r(t,e,n,i){return-n*(t/=i)*(t-2)+e}function o(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}function a(t,e,n,i){return n*(t/=i)*t*t+e}function l(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e}function u(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e}function s(t,e,n,i){return n*(t/=i)*t*t*t+e}function c(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e}function f(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e}function h(t,e,n,i){return n*(t/=i)*t*t*t*t+e}function d(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e}function p(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e}function v(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e}function y(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e}function g(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e}function x(t,e,n,i){return 0==t?e:n*Math.pow(2,10*(t/i-1))+e}function b(t,e,n,i){return t==i?e+n:n*(-Math.pow(2,-10*t/i)+1)+e}function m(t,e,n,i){return 0==t?e:t==i?e+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(-Math.pow(2,-10*--t)+2)+e}function w(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e}function _(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e}function k(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e}function C(t,e,n,i){var r=1.70158,o=0,a=n;if(0==t)return e;if(1==(t/=i))return e+n;if(o||(o=.3*i),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o))+e}function P(t,e,n,i){var r=1.70158,o=0,a=n;if(0==t)return e;if(1==(t/=i))return e+n;if(o||(o=.3*i),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return a*Math.pow(2,-10*t)*Math.sin((t*i-r)*(2*Math.PI)/o)+n+e}function S(t,e,n,i){var r=1.70158,o=0,a=n;if(0==t)return e;if(2==(t/=i/2))return e+n;if(o||(o=i*(.3*1.5)),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return t<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o))+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o)*.5+n+e}function A(t,e,n,i,r){return void 0==r&&(r=1.70158),n*(t/=i)*t*((r+1)*t-r)+e}function O(t,e,n,i,r){return void 0==r&&(r=1.70158),n*((t=t/i-1)*t*((r+1)*t+r)+1)+e}function T(t,e,n,i,r){return void 0==r&&(r=1.70158),(t/=i/2)<1?n/2*(t*t*(((r*=1.525)+1)*t-r))+e:n/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+e}function M(t,e,n,i){return n-W(i-t,0,n,i)+e}function W(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}function j(t,e,n,i){return t<i/2?.5*M(2*t,0,n,i)+e:.5*W(2*t-i,0,n,i)+.5*n+e}Object.defineProperty(n,"__esModule",{value:!0}),n.easeInQuad=i,n.easeOutQuad=r,n.easeInOutQuad=o,n.easeInCubic=a,n.easeOutCubic=l,n.easeInOutCubic=u,n.easeInQuart=s,n.easeOutQuart=c,n.easeInOutQuart=f,n.easeInQuint=h,n.easeOutQuint=d,n.easeInOutQuint=p,n.easeInSine=v,n.easeOutSine=y,n.easeInOutSine=g,n.easeInExpo=x,n.easeOutExpo=b,n.easeInOutExpo=m,n.easeInCirc=w,n.easeOutCirc=_,n.easeInOutCirc=k,n.easeInElastic=C,n.easeOutElastic=P,n.easeInOutElastic=S,n.easeInBack=A,n.easeOutBack=O,n.easeInOutBack=T,n.easeInBounce=M,n.easeOutBounce=W,n.easeInOutBounce=j},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e,n){(function(t){(function(){var n,i,r,o,a,l;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},i=t.hrtime,n=function(){var t;return t=i(),1e9*t[0]+t[1]},o=n(),l=1e9*t.uptime(),a=o-l):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,t("_process"))},{_process:8}],8:[function(t,e,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===i||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function l(){y&&p&&(y=!1,p.length?v=p.concat(v):g=-1,v.length&&u())}function u(){if(!y){var t=o(l);y=!0;for(var e=v.length;e;){for(p=v,v=[];++g<e;)p&&p[g].run();g=-1,e=v.length}p=null,y=!1,a(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var f,h,d=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:i}catch(t){f=i}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var p,v=[],y=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new s(t,e)),1!==v.length||y||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],9:[function(e,n,i){!function(e){function i(t,e){if(t=t?t:"",e=e||{},t instanceof i)return t;if(!(this instanceof i))return new i(t,e);var n=r(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=X(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=X(this._r)),this._g<1&&(this._g=X(this._g)),this._b<1&&(this._b=X(this._b)),this._ok=n.ok,this._tc_id=H++}function r(t){var e={r:0,g:0,b:0},n=1,i=null,r=null,a=null,u=!1,c=!1;return"string"==typeof t&&(t=D(t)),"object"==("undefined"==typeof t?"undefined":_typeof2(t))&&(I(t.r)&&I(t.g)&&I(t.b)?(e=o(t.r,t.g,t.b),u=!0,c="%"===String(t.r).substr(-1)?"prgb":"rgb"):I(t.h)&&I(t.s)&&I(t.v)?(i=E(t.s),r=E(t.v),e=s(t.h,i,r),u=!0,c="hsv"):I(t.h)&&I(t.s)&&I(t.l)&&(i=E(t.s),a=E(t.l),e=l(t.h,i,a),u=!0,c="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=A(n),{ok:u,format:t.format||c,r:V(255,U(e.r,0)),g:V(255,U(e.g,0)),b:V(255,U(e.b,0)),a:n}}function o(t,e,n){return{r:255*O(t,255),g:255*O(e,255),b:255*O(n,255)}}function a(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var i,r,o=U(t,e,n),a=V(t,e,n),l=(o+a)/2;if(o==a)i=r=0;else{var u=o-a;switch(r=l>.5?u/(2-o-a):u/(o+a),o){case t:i=(e-n)/u+(e<n?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return{h:i,s:r,l:l}}function l(t,e,n){function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var r,o,a;if(t=O(t,360),e=O(e,100),n=O(n,100),0===e)r=o=a=n;else{var l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;r=i(u,l,t+1/3),o=i(u,l,t),a=i(u,l,t-1/3)}return{r:255*r,g:255*o,b:255*a}}function u(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var i,r,o=U(t,e,n),a=V(t,e,n),l=o,u=o-a;if(r=0===o?0:u/o,o==a)i=0;else{switch(o){case t:i=(e-n)/u+(e<n?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return{h:i,s:r,v:l}}function s(t,n,i){t=6*O(t,360),n=O(n,100),i=O(i,100);var r=e.floor(t),o=t-r,a=i*(1-n),l=i*(1-o*n),u=i*(1-(1-o)*n),s=r%6,c=[i,l,a,a,u,i][s],f=[u,i,i,l,a,a][s],h=[a,a,u,i,i,l][s];return{r:255*c,g:255*f,b:255*h}}function c(t,e,n,i){var r=[z(X(t).toString(16)),z(X(e).toString(16)),z(X(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function f(t,e,n,i,r){var o=[z(X(t).toString(16)),z(X(e).toString(16)),z(X(n).toString(16)),z(B(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function h(t,e,n,i){var r=[z(B(i)),z(X(t).toString(16)),z(X(e).toString(16)),z(X(n).toString(16))];return r.join("")}function d(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.s-=e/100,n.s=T(n.s),i(n)}function p(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.s+=e/100,n.s=T(n.s),i(n)}function v(t){
return i(t).desaturate(100)}function y(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.l+=e/100,n.l=T(n.l),i(n)}function g(t,e){e=0===e?0:e||10;var n=i(t).toRgb();return n.r=U(0,V(255,n.r-X(255*-(e/100)))),n.g=U(0,V(255,n.g-X(255*-(e/100)))),n.b=U(0,V(255,n.b-X(255*-(e/100)))),i(n)}function x(t,e){e=0===e?0:e||10;var n=i(t).toHsl();return n.l-=e/100,n.l=T(n.l),i(n)}function b(t,e){var n=i(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,i(n)}function m(t){var e=i(t).toHsl();return e.h=(e.h+180)%360,i(e)}function w(t){var e=i(t).toHsl(),n=e.h;return[i(t),i({h:(n+120)%360,s:e.s,l:e.l}),i({h:(n+240)%360,s:e.s,l:e.l})]}function _(t){var e=i(t).toHsl(),n=e.h;return[i(t),i({h:(n+90)%360,s:e.s,l:e.l}),i({h:(n+180)%360,s:e.s,l:e.l}),i({h:(n+270)%360,s:e.s,l:e.l})]}function k(t){var e=i(t).toHsl(),n=e.h;return[i(t),i({h:(n+72)%360,s:e.s,l:e.l}),i({h:(n+216)%360,s:e.s,l:e.l})]}function C(t,e,n){e=e||6,n=n||30;var r=i(t).toHsl(),o=360/n,a=[i(t)];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,a.push(i(r));return a}function P(t,e){e=e||6;for(var n=i(t).toHsv(),r=n.h,o=n.s,a=n.v,l=[],u=1/e;e--;)l.push(i({h:r,s:o,v:a})),a=(a+u)%1;return l}function S(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function A(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function O(t,n){W(t)&&(t="100%");var i=j(t);return t=V(n,U(0,parseFloat(t))),i&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function T(t){return V(1,U(0,t))}function M(t){return parseInt(t,16)}function W(t){return"string"==typeof t&&t.indexOf(".")!=-1&&1===parseFloat(t)}function j(t){return"string"==typeof t&&t.indexOf("%")!=-1}function z(t){return 1==t.length?"0"+t:""+t}function E(t){return t<=1&&(t=100*t+"%"),t}function B(t){return e.round(255*parseFloat(t)).toString(16)}function R(t){return M(t)/255}function I(t){return!!J.CSS_UNIT.exec(t)}function D(t){t=t.replace(F,"").replace(N,"").toLowerCase();var e=!1;if(G[t])t=G[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=J.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=J.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=J.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=J.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=J.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=J.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=J.hex8.exec(t))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),a:R(n[4]),format:e?"name":"hex8"}:(n=J.hex6.exec(t))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),format:e?"name":"hex"}:(n=J.hex4.exec(t))?{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),a:R(n[4]+""+n[4]),format:e?"name":"hex8"}:!!(n=J.hex3.exec(t))&&{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),format:e?"name":"hex"}}function L(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var F=/^\s+/,N=/\s+$/,H=0,X=e.round,V=e.min,U=e.max,q=e.random;i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,n,i,r,o,a,l=this.toRgb();return t=l.r/255,n=l.g/255,i=l.b/255,r=t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4),o=n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4),a=i<=.03928?i/12.92:e.pow((i+.055)/1.055,2.4),.2126*r+.7152*o+.0722*a},setAlpha:function(t){return this._a=A(t),this._roundA=X(100*this._a)/100,this},toHsv:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=u(this._r,this._g,this._b),e=X(360*t.h),n=X(100*t.s),i=X(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=a(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=a(this._r,this._g,this._b),e=X(360*t.h),n=X(100*t.s),i=X(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return c(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return f(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:X(this._r),g:X(this._g),b:X(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+X(this._r)+", "+X(this._g)+", "+X(this._b)+")":"rgba("+X(this._r)+", "+X(this._g)+", "+X(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:X(100*O(this._r,255))+"%",g:X(100*O(this._g,255))+"%",b:X(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+X(100*O(this._r,255))+"%, "+X(100*O(this._g,255))+"%, "+X(100*O(this._b,255))+"%)":"rgba("+X(100*O(this._r,255))+"%, "+X(100*O(this._g,255))+"%, "+X(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Y[c(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+h(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var o=i(t);n="#"+h(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0,r=!e&&i&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t);return r?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(P,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(_,arguments)}},i.fromRatio=function(t,e){if("object"==("undefined"==typeof t?"undefined":_typeof2(t))){var n={};for(var r in t)t.hasOwnProperty(r)&&("a"===r?n[r]=t[r]:n[r]=E(t[r]));t=n}return i(t,e)},i.equals=function(t,e){return!(!t||!e)&&i(t).toRgbString()==i(e).toRgbString()},i.random=function(){return i.fromRatio({r:q(),g:q(),b:q()})},i.mix=function(t,e,n){n=0===n?0:n||50;var r=i(t).toRgb(),o=i(e).toRgb(),a=n/100,l={r:(o.r-r.r)*a+r.r,g:(o.g-r.g)*a+r.g,b:(o.b-r.b)*a+r.b,a:(o.a-r.a)*a+r.a};return i(l)},i.readability=function(t,n){var r=i(t),o=i(n);return(e.max(r.getLuminance(),o.getLuminance())+.05)/(e.min(r.getLuminance(),o.getLuminance())+.05)},i.isReadable=function(t,e,n){var r,o,a=i.readability(t,e);switch(o=!1,r=L(n),r.level+r.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7}return o},i.mostReadable=function(t,e,n){var r,o,a,l,u=null,s=0;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)r=i.readability(t,e[c]),r>s&&(s=r,u=i(e[c]));return i.isReadable(t,u,{level:a,size:l})||!o?u:(n.includeFallbackColors=!1,i.mostReadable(t,["#fff","#000"],n))};var G=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Y=i.hexNames=S(G),J=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof n&&n.exports?n.exports=i:"function"==typeof t&&t.amd?t(function(){return i}):window.tinycolor=i}(Math)},{}],10:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=t("es6-mixins"),f=i(c),h=t("../util/helper"),d=t("../util/randomColor"),p=i(d),v=t("../util/wxCanvas"),y=(i(v),t("./wxChart")),g=i(y),x=t("../core/title"),b=i(x),m=t("../core/scale"),w=(i(m),t("../scale/scale.liner")),_=i(w),k=t("../scale/scale.crosshelp"),C=i(k),P=t("../scale/scale.stackhelp"),S=i(P),A=t("../scale/scale.category"),O=i(A),T=t("../core/legend"),M=i(T),W=t("../core/layout"),j=i(W),z=t("../core/animation"),E=i(z),B=t("../elements/rect"),R=i(B),I=t("tinycolor2"),D={borderWidth:1,fillArea:!0,fillAlpha:.7,display:!0,barPercentage:.8},L={minBetweenPixel:5,pointPercentage:.8,stacked:!1,zeroLine:!1,xScaleOptions:{position:"bottom"},xScaleItemOptions:void 0,yScaleOptions:{position:"left"},yScaleItemOptions:void 0,crossScaleOptions:{xMargin:function(t,e,n,i,r,o){return i.calculateTickWidth(o,t)},xFirstPointSpace:0},title:void 0,legends:[],legendOptions:{position:"bottom"},point:{},color:{hue:"red",luminosity:"light"},defaultKey:"value",animate:!0,animateOptions:{start:1,end:1001,duration:1e3}},F={showLabel:!0,display:!0},N=function(t){function e(t,n){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));(0,f.default)([S.default],i,{mergeDuplicates:!1});var r=i;return r.chartConfig=(0,h.extend)({},L,r.config),r.title=null,r.chartConfig.title&&(r.title=new b.default(r,h.is.PureObject(r.chartConfig.title)?r.chartConfig.title:null),r.titleText=h.is.String(r.chartConfig.title)?r.chartConfig.title:r.chartConfig.title.text),r.legend=new M.default(r,r.chartConfig.legendOptions),r.yAxis=new _.default(r,r.chartConfig.yScaleOptions),r.xAxis=new O.default(r,r.chartConfig.xScaleOptions),r.wxCrossScale=new C.default(r.xAxis,r.yAxis,r.chartConfig.crossScaleOptions),r.wxLayout=new j.default(r),r.chartConfig.animate&&(r.wxAnimation=new E.default(r.chartConfig.animateOptions)),r.emit("init",r.chartConfig),i}return l(e,t),u(e,[{key:"update",value:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),i=this;return i._labels=null,i._legends=null,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t,(0,h.extend)({},F,i.chartConfig.point)),i.wxLayout.removeAllBox(),i.wxAnimation&&i.wxAnimation.reset(),i.draw(n)}},{key:"redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this;return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,this.datasets),n.wxLayout.removeAllBox(),n.wxAnimation&&n.wxAnimation.reset(),n.draw(t)}},{key:"draw",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=void 0,n=this,i=(n.ctx,t&&n.chartConfig.animate),r=n.wxLayout,o=n.chartConfig,a=(o.pointPercentage,o.minBetweenPixel,o.stacked,o.color),l=o.zeroLine;n.emit("beforeDraw",n.chartConfig),e=r.adjustBox(),n.title&&(n.title.update(n.titleText,e),r.addBox(n.title.box)),e=r.adjustBox();var u=(0,p.default)((0,h.extend)(!0,{},a,{count:n.legends.length}));n.legends=n.legends.map(function(t,e){return t.strokeStyle||(t.strokeStyle=t.borderColor||I(u[e]).darken(10).toString()),(0,h.extend)(!0,{fillStyle:u[e]},D,t)}),n.legend.update(n.legends,e),r.addBox(n.legend.box),e=r.adjustBox();var s=n._drawScale(e),c=s.xBox,f=s.yBox;r.addBox(c),r.addBox(f),e=r.adjustBox(),n.barRuler=n.calculateBarRuler(),n.hasNeg=!1;var d=[];n.legends.map(function(t,i){var r=n.renderViews(e,t,i);d.push(r)}),d.map(function(i){n.drawBar(i,e,t)}),i?(n.emit("animate",n.wxAnimation),n.wxAnimation.run(!0),n.wxAnimation.once("done",function(){l&&n._darwZeroLine(),n.emit("draw",d)})):(l&&n._darwZeroLine(),n.emit("draw",d))}},{key:"renderView",value:function(t,e,n){var i=this,r=n.legend,o=n.legendIndex,a=n.key,l=t[a];if(!l)return{value:l,element:null,data:t,index:e};var u=i.calculateBarRect(e,o),s={width:u.barWidth,height:u.barHeight,backgroundColor:t.pointBackgroundColor||r.fillStyle,backgroundAlpha:t.pointBackgroundAlpha||r.fillAlpha,borderColor:t.pointBorderColor||r.strokeStyle,borderWidth:t.pointBorderWidth||r.borderWidth,border:"top left right bottom"};s.touched={width:u.barWidth,height:u.barHeight,backgroundColor:t.touched?t.touched.backgroundColor:I(s.backgroundColor).darken(10).toString(),backgroundAlpha:t.touched?t.touched.backgroundAlpha:s.backgroundAlpha,borderColor:t.touched?t.touched.borderColor:s.borderColor,borderWidth:t.touched?t.touched.borderWidth:s.borderWidth};var c=new R.default(u.x,u.y,s);return{value:l,element:c,data:t,index:e}}},{key:"renderViews",value:function(t,e,n){var i=this,r=e.key;return i.visDatasets.map(function(t,o){var a=i.renderView(t,o,{legend:e,legendIndex:n,key:r});return a.value<0&&(i.hasNeg=!0),a.totalValue=i.getTotalValue(r),a.legend=e,a.legendIndex=n,a.formatValue=i.renderLabel(a.value,a.totalValue,a.element,a.data,a.legend,a.legendIndex),a})}},{key:"renderLabel",value:function(t,e,n,i,r,o){var a=i.label,l=i.format;return h.is.Function(l)?l.call(this,a,t,o,e):t+""}},{key:"_darwZeroLine",value:function(){var t=this,e=t.ctx;e.save(),e.beginPath(),e.strokeStyle=t.xAxis.config.color,e.lineWidth=t.xAxis.config.lineWidth;var n=t.yAxis.getPoint(0).y;e.moveTo(t.xAxis.getPoint(-1).x,n),e.lineTo(t.xAxis.box.ex,n),e.stroke(),e.restore()}},{key:"drawBar",value:function(t,e,n){var i=this,r=i.chartConfig.animate&&n;if(r){var o=i._getAnimationDrawBar(t,e);i.wxAnimation.pushActions(o)}else i._drawBar(t,e)}},{key:"_drawBar",value:function(t,e){var n=this,i=n.ctx;i.save(),t.forEach(function(t){t.element&&(t.element.draw(n.ctx),n._drawLabel(t,e))}),i.draw(),i.restore()}},{key:"_drawLabel",value:function(t,e){var n=this,i=n.chartConfig.stacked,r=n.ctx,o=t.showLabel,a=t.element,l=t.data,u=t.formatValue;if(o){var s=a.x,c=a.y;r.save(),r.fillStyle=I(a.options.backgroundColor).darken(15).toString(),l.fontSize&&(r.fontSize=l.fontSize);var f=void 0,h=void 0;i?(r.textBaseline="middle",f=s+a.width/2-r.measureText(u).width/3,h=c+a.height/2):(r.textBaseline="bottom",f=s+a.width/2-r.measureText(u).width/3,h=c-r.fontSize/4),f<e.x&&(f=e.x),h<e.y&&(h=e.y),r.fillText(u,f,h),r.restore()}}},{key:"_getAnimationDrawBar",value:function(t,e){var n=this,i=n.chartConfig,r=i.backgroundColor,o=(i.stacked,i.animate,i.animateOptions),a=n.ctx,l=t.length,u=(o.end-o.start)/l;return function(i,o,s){a.save();var c=Math.floor(i/u),f=c<l?t[c]:t[l-1],d=f.element,p=(f.dataset,i%u/u),v=void 0;if(o){var y=o.dataIndex,g=o.percent,x=(o.lt,o.interElement);if(y<l&&x&&x.clear(a,r,!0),y!==c&&g){var b=y<l?t[y]:t[l-1];b.element&&(b.element.draw(a),n._drawLabel(b,e))}}if(c<l&&p&&d){var m=d.width,w=d.height,_=d.options,k=(0,h.extend)({},_),C=m,P=w*p,S=d.x,A=d.y+w-P;k.width=C,k.height=P,v=new R.default(S,A,k),v.draw(a)}return a.draw(),a.restore(),{dataIndex:c,percent:p,interElement:v,lt:i}}}},{key:"calculateBarRuler",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.xAxis,e=this,n=void 0,i=e.chartConfig.barPercentage,o=e.chartConfig.pointPercentage,a=e.chartConfig.stacked,l=e.legends,u=l.length,s=t.calculateTickWidth(),c=s*o,f=(s-c)/2,d=0;if(i||(i=a?Math.max.apply(Math,r(l.map(function(t){return t.barPercentage||.8})))||.8:.8),n=Math.max.apply(Math,r([i*c].concat(l.map(function(t){return h.is.Number(t.barWidth)?t.barWidth:0})))),l.forEach(function(t){if(a)t.barWidth=n,t.barPercentage=i,t._standardPercentage=i/u;else{var e=void 0,r=t.barPercentage?t.barPercentage>1?1:t.barPercentage:i;t.barWidth?e=t.barWidth/c:(e=r/u,t.barWidth=c*e),d+=e,t._standardPercentage=e}}),d>1)throw Error("Bar's width too large!");a&&(d=i);var p=u>1?c*(1-d)/(u-1):c*(1-d);return{tickWidth:s,pointPercentage:o,pointWidth:c,pointIntervalWidth:f,legends:l,barIntervalWidth:p}}},{key:"calculateBarRect",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.xAxis,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.yAxis,r=this,o=r.chartConfig.stacked,a=r.barRuler?r.barRuler:r.calculateBarRuler(n),l=r.legends[e];if(l){var u=r.legends.slice(0,e).reduce(function(t,e){return t+e.barWidth},0),s=r.visDatasets[t],c=l.key&&"undefined"!=typeof s[l.key]?s[l.key]:null;if(!h.is.Null(c)&&!h.is.Undefined(c)){var f=void 0,d=void 0,p=void 0,v=void 0,y=n.getPoint(t);if(o){f=y.x-a.pointWidth/2+a.barIntervalWidth/2,d=r._getStackPoint(t,e).y,p=l.barWidth;var g=i.getPoint(0).y;v=c<0?c/s.__sumNeg*(i.getPoint(s.__sumNeg).y-g):c/s.__sumPos*(g-i.getPoint(s.__sumPos).y),d=c<0?d-v:d}else f=y.x-a.pointWidth/2+u+a.barIntervalWidth/2*(e+1),d=i.getPoint(c).y,p=l.barWidth,v=y.y-d;return{x:f,y:d,barWidth:p,barHeight:v}}}}},{key:"_drawScale",value:function(t){var e=this,n=e.xScaleAxisDatas(),i=e.yScaleAxisDatas(t);return e.wxCrossScale.draw(t,n,i)}},{key:"yScaleAxisDatas",value:function(t){var e=this,n=e.chartConfig.stacked,i=e.ctx,r=e.chartConfig.yScaleItemOptions,o=e.yAxis.calculateTickLimit(t,i);if(n){var a=e.stackYScaleAxisLimit(),l=a.max,u=a.min;return e.yAxis.buildDatasets(l,u,o,void 0,r)}var s=this.visDatasets.reduce(function(t,n){var i=t.max,r=t.min;if(n.display){var o=e.legends.map(function(t){if(t.key)return n[t.key]||0}).concat(i,r);i=Math.max.apply(Math,o),r=Math.min.apply(Math,o)}return{max:i,min:r}},{max:0,min:0}),c=s.max,f=s.min;return e.yAxis.buildDatasets(c,f,o,void 0,r)}},{key:"xScaleAxisDatas",value:function(){var t=this,e=t.chartConfig.xScaleItemOptions,n=t.labels.map(function(t){var n={text:t};return"undefined"!=typeof e&&(n=(0,h.extend)(n,e)),n});return t.xAxis.buildDatasets(n)}},{key:"elementTooltip",value:function(t,e){for(var n=this,i=n.chartConfig.tooltip,r=i.content,o=void 0,a=void 0,l=void 0,u=0;u<e.length;u++)for(var s=e[u],c=0;c<s.length;c++){l=s[c];var f=l.element;if(f&&f.inRange(t.x,t.y)){o=i.mouseFollow?{x:t.x,y:t.y,padding:f.padding}:f.tooltipPosition(t.x,t.y),a=h.is.Function(r)?r.call(n,l,n.labels):r.toString();break}}return{position:o,text:a,views:l}}},{key:"axisTooltip",value:function(t,e){for(var n=this,i=n.chartConfig.tooltip,r=i.axisMark,o=i.content,a=-1,l=[],u=0;u<e.length;u++)for(var s=e[u],c=0;c<s.length;c++){var f=s[c],d=f.element;a>-1&&f.index==a?l.push(f):d&&d.inXRange(t.x)&&(a=f.index,l.push(f))}var p=void 0,v=void 0,y=void 0,g=void 0;return a>=0&&!function(){var e=n.xAxis.getPoint(a);p={x:e.x,y:t.y,padding:l[0].element.padding},v=h.is.Function(o)?o.call(n,l,n.labels):o.toString();var i=t.canvas.contextInstance;y=function(t,e){return t&&e&&t.views[0].index===e.views[0].index},g=function(){var t=n.yAxis.getPoint(n.yAxis.visDatasets[n.yAxis.visDatasets.length-1].value),o=n.yAxis.getPoint(n.yAxis.visDatasets[0].value);i.save(),i.beginPath(),i.lineWidth=r.lineWidth,i.strokeStyle=r.strokeStyle||n.yAxis.config.color,i.moveTo(e.x,o.y),i.lineTo(e.x,t.y),i.stroke(),i.restore()}}(),{position:p,text:v,views:l,checker:y,before:g}}}]),e}(g.default);n.default=N},{"../core/animation":15,"../core/layout":19,"../core/legend":20,"../core/scale":21,"../core/title":22,"../elements/rect":26,"../scale/scale.category":27,"../scale/scale.crosshelp":28,"../scale/scale.liner":29,"../scale/scale.stackhelp":30,"../util/helper":32,"../util/randomColor":34,"../util/wxCanvas":37,"./wxChart":14,"es6-mixins":5,tinycolor2:9}],11:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},s=t("es6-mixins"),c=i(s),f=t("../util/helper"),h=t("../util/randomColor"),d=i(h),p=t("../util/wxCanvas"),v=(i(p),t("./wxChart")),y=i(v),g=t("../core/title"),x=i(g),b=t("../core/scale"),m=(i(b),t("../scale/scale.liner")),w=i(m),_=t("../scale/scale.crosshelp"),k=i(_),C=t("../scale/scale.stackhelp"),P=i(C),S=t("../scale/scale.category"),A=i(S),O=t("../core/legend"),T=i(O),M=t("../core/layout"),W=i(M),j=t("../core/animation"),z=i(j),E=t("../elements/point"),B=i(E),R=t("tinycolor2"),I={display:!0,rKey:"z",zrp:0},D={xScaleOptions:{position:"bottom"},xScaleItemOptions:void 0,yScaleOptions:{position:"left"},yScaleItemOptions:void 0,crossScaleOptions:{xMargin:function(t,e,n,i,r,o){return i.calculateTickWidth(o,t)},xFirstPointSpace:0},title:void 0,legends:[],legendOptions:{position:"bottom"},point:{},color:{hue:"red",luminosity:"light"},defaultKey:"value",animate:!0,animateOptions:{start:1,end:1001,duration:1e3}},L={showLabel:!1,pointRadius:4,pointStyle:"circle",pointBorderWidth:2,pointBorderColor:"#ffffff",display:!0},F=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));(0,c.default)([P.default],i,{mergeDuplicates:!1});var a=i;return a.chartConfig=(0,f.extend)({},D,a.config),a.title=null,a.chartConfig.title&&(a.title=new x.default(a,f.is.PureObject(a.chartConfig.title)?a.chartConfig.title:null),a.titleText=f.is.String(a.chartConfig.title)?a.chartConfig.title:a.chartConfig.title.text),a.legend=new T.default(a,a.chartConfig.legendOptions),a.yAxis=new w.default(a,a.chartConfig.yScaleOptions),a.xAxis=new A.default(a,a.chartConfig.xScaleOptions),a.wxCrossScale=new k.default(a.xAxis,a.yAxis,a.chartConfig.crossScaleOptions),a.wxLayout=new W.default(a),a.chartConfig.animate&&(a.wxAnimation=new z.default(a.chartConfig.animateOptions)),a.emit("init",a.chartConfig),i}return a(e,t),l(e,[{key:"update",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this;return r._labels=null,r._legends=null,u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t,(0,f.extend)({},n,r.chartConfig.point)),r.wxLayout.removeAllBox(),r.wxAnimation&&r.wxAnimation.reset(),r.draw(i)}},{key:"redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this;return u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,this.datasets),n.wxLayout.removeAllBox(),n.wxAnimation&&n.wxAnimation.reset(),n.draw(t)}},{key:"_calZRP",value:function(t){var e=this,n=e.xAxis.tickWidth/t/2,i=e.canvas.height/t;return Math.min(i,n)}},{key:"renderViews",value:function(t,e,n){var i=this,r=e.key,o=e.zrp;if(!o){var a=i.calculateMaxRadius();o=i._calZRP(a),e.zrp=o}return i.visDatasets.map(function(t,o){var a=i.renderView(t,o,{legend:e,legendIndex:n,key:r});return a.totalValue=i.getTotalValue(r),a.legend=e,a.legendIndex=n,a.formatValue=i.renderLabel(a.value,a.totalValue,a.element,a.data,a.legend,a.legendIndex),a})}},{key:"renderView",value:function(t,e,n){var i=this,r=n.legend,o=(n.legendIndex,n.key),a=t[o],l=void 0;if(a){var u=i.xAxis.getPoint(e),s=i.yAxis.getPoint(a),c=r.rKey||"z",f={radius:t[c]?t[c]*r.zrp:t.pointRadius,style:t.pointStyle,backgroundColor:t.pointBackgroundColor||r.fillStyle,borderWidth:t.pointBorderWidth,borderColor:t.pointBorderColor||r.strokeStyle,touched:{radius:t.touched?t.touched[c]?t.touched[c]*r.zrp:t.touched.pointRadius:(t[c]?t[c]*r.zrp:t.pointRadius)+2,borderWidth:t.touched?t.touched.pointBorderWidth:t.pointBorderWidth+1,style:t.touched?t.touched.pointStyle:t.pointStyle,borderColor:t.touched?t.touched.pointBorderColor:t.pointBorderColor||r.strokeStyle,backgroundColor:t.pointBackgroundColor||r.fillStyle}};l=new B.default(u.x,s.y,f)}return{value:a,element:l,data:t,index:e}}},{key:"renderLabel",value:function(t,e,n,i,r,o){var a=i.label,l=i.format;return f.is.Function(l)?l.call(this,a,t,o,e):t+""}},{key:"draw",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=void 0,n=this,i=t&&n.chartConfig.animate,r=(n.chartConfig.stacked,n.chartConfig.discardNeg,n.wxLayout),o=n.chartConfig.color;n.emit("beforeDraw",n.chartConfig),e=r.adjustBox(),n.title&&(n.title.update(n.titleText,e),r.addBox(n.title.box)),e=r.adjustBox();var a=(0,d.default)((0,f.extend)(!0,{},o,{count:n.legends.length}));n.legends=n.legends.map(function(t,e){return t.strokeStyle||(t.strokeStyle=n.chartConfig.backgroundColor||t.borderColor||a[e]),(0,f.extend)(!0,{fillStyle:a[e]},I,t)}),n.legend.update(n.legends,e),r.addBox(n.legend.box),e=r.adjustBox();var l=n._drawScale(e),u=l.xBox,s=l.yBox;r.addBox(u),r.addBox(s),e=r.adjustBox();var c=[];n.legends.map(function(t,i){var r=n.renderViews(e,t,i);c.push(r)}),c.map(function(i){n.drawBubble(i,e,t)}),r.addBox(e),i?(n.emit("animate",n.wxAnimation),n.wxAnimation.run(!0),n.wxAnimation.once("done",function(){n.emit("draw",c)})):n.emit("draw",c)}},{key:"_drawScale",value:function(t){var e=this,n=e.xScaleAxisDatas(),i=e.yScaleAxisDatas(t);return e.wxCrossScale.draw(t,n,i)}},{key:"yScaleAxisDatas",value:function(t){var e=this,n=e.chartConfig.stacked,i=e.chartConfig.discardNeg,r=e.ctx,o=e.chartConfig.yScaleItemOptions,a=e.yAxis.calculateTickLimit(t,r);if(n){var l=e.stackYScaleAxisLimit(),u=l.max,s=l.min;return e.yAxis.buildDatasets(u,s<0&&i?0:s,a,void 0,o)}var c=this.visDatasets.reduce(function(t,n){var i=t.max,r=t.min;if(n.display){var o=e.legends.map(function(t){if(t.key)return n[t.key]||0}).concat(i,r);i=Math.max.apply(Math,o),r=Math.min.apply(Math,o)}return{max:i,min:r}},{max:0,min:0}),f=c.max,h=c.min;return e.yAxis.buildDatasets(f,h,a,void 0,o)}},{key:"xScaleAxisDatas",value:function(){var t=this,e=t.chartConfig.xScaleItemOptions,n=t.labels.map(function(t){var n={text:t};return"undefined"!=typeof e&&(n=(0,f.extend)(n,e)),n});return t.xAxis.buildDatasets(n)}},{key:"calculateMaxRadius",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.visDatasets,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rKey",n=this,i=0;return n.legends.forEach(function(n,r){t.forEach(function(t,r){var o=n[e]||"z",a=parseFloat(t[o]);f.is.NaN(a)||(i=i>a?i:a)})}),i}},{key:"drawBubble",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this,r=n&&i.chartConfig.animate,o=i.chartConfig.animateOptions;if(r){var a=i._getAnimationDrawBubble(t,e);
if(!a)return;i.wxAnimation.pushActions(a),i.wxAnimation.pushActions(function(n){o.end===n&&i._drawBubble(t,e)})}else i._drawBubble(t,e)}},{key:"_drawBubble",value:function(t,e){var n=this,i=n.ctx;if(t.length){t[0].legend.display;i.save(),t.forEach(function(t,i){n._drawPoint(t.element,t,e)}),i.draw(),i.restore()}}},{key:"_drawPoint",value:function(t,e,n){var i=this.ctx;if(e&&t){var r=e.data,o=r.showLabel;r.label;if(t.draw(i),o){var a=i.fillStyle;i.textBaseline="middle",i.fillStyle=R(a).darken(50).toString();var l=e.formatValue,u=t.x-i.measureText(l).width/2,s=t.y;i.fillText(l,u,s),i.fillStyle=a}}}},{key:"_animateBubbleRadius",value:function(t,e,n){var i=n.element;n.totalValue;return t%e/e*i.radius}},{key:"_getAnimationDrawBubble",value:function(t,e){var n=this,i=n.chartConfig.animateOptions,r=n.ctx;if(t.length){var o=t[0].legend.display;if(o){var a=t.length,l=(i.end-i.start)/(a-1);return function(e,i,o){r.save();var a=i?Math.floor(e/l)+1:0,u=void 0,s=0,c=n.getCurrView(t,a),h=n.getPreViewHasElement(t,a,!1),d=i?a-i.index:0;if(c&&(u=c.element,s=n._animateBubbleRadius(e,l,c)),(1==d||i)&&h&&h.element&&h.element.draw(r),u){var p=u,v=p.options,y=(0,f.extend)({},v,{radius:s});new B.default(u.x,u.y,y).draw(r)}return r.draw(),r.restore(),{element:u,t:e,index:a,diffIndex:d}}}}}},{key:"elementTooltip",value:function(t,e){for(var n=this,i=n.chartConfig.tooltip,r=i.content,o=void 0,a=void 0,l=void 0,u=0;u<e.length;u++)for(var s=e[u],c=0;c<s.length;c++){l=s[c];var h=l.element;if(h&&h.inRange(t.x,t.y)){o=i.mouseFollow?{x:t.x,y:t.y,padding:h.padding}:h.tooltipPosition(t.x,t.y),a=f.is.Function(r)?r.call(n,l,n.labels):r.toString();break}}return{position:o,text:a,views:l}}},{key:"axisTooltip",value:function(t,e){for(var n=this,i=n.chartConfig.tooltip,r=i.axisMark,o=i.content,a=-1,l=[],u=0;u<e.length;u++)for(var s=e[u],c=0;c<s.length;c++){var h=s[c],d=h.element;a>-1&&h.index==a?l.push(h):d&&d.inXRange(t.x)&&(a=h.index,l.push(h))}var p=void 0,v=void 0,y=void 0,g=void 0;return a>=0&&!function(){var e=n.xAxis.getPoint(a);p={x:e.x,y:t.y,padding:l[0].element.padding},v=f.is.Function(o)?o.call(n,l,n.labels):o.toString();var i=t.canvas.contextInstance;y=function(t,e){return t&&e&&t.views[0].index===e.views[0].index},g=function(){var t=n.yAxis.getPoint(n.yAxis.visDatasets[n.yAxis.visDatasets.length-1].value),o=n.yAxis.getPoint(n.yAxis.visDatasets[0].value);i.save(),i.beginPath(),i.lineWidth=r.lineWidth,i.strokeStyle=r.strokeStyle||n.yAxis.config.color,i.moveTo(e.x,o.y),i.lineTo(e.x,t.y),i.stroke(),i.restore()}}(),{position:p,text:v,views:l,checker:y,before:g}}}]),e}(y.default);n.default=F},{"../core/animation":15,"../core/layout":19,"../core/legend":20,"../core/scale":21,"../core/title":22,"../elements/point":25,"../scale/scale.category":27,"../scale/scale.crosshelp":28,"../scale/scale.liner":29,"../scale/scale.stackhelp":30,"../util/helper":32,"../util/randomColor":34,"../util/wxCanvas":37,"./wxChart":14,"es6-mixins":5,tinycolor2:9}],12:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=t("../util/wxCanvas"),f=(i(c),t("./wxChart")),h=i(f),d=t("../core/title"),p=i(d),v=t("../core/layout"),y=i(v),g=t("../core/legend"),x=i(g),b=t("../util/randomColor"),m=i(b),w=t("../util/helper"),_=t("../core/animation"),k=i(_),C=t("../elements/arc"),P=i(C),S={legendOptions:{position:"bottom"},cutoutPercentage:50,rotation:Math.PI*-.5,color:{hue:"red",luminosity:"light"},point:{},title:void 0,padding:void 0,labelDistancePercentage:.15,animate:!0,animateOptions:{start:1,end:501,duration:1e3}},A={borderWidth:1,fillArea:!0,fillAlpha:.7,display:!0},O={display:!0,pointBorderWidth:2,percentage:100,pointBorderColor:"#ffffff"},T=function(t){function e(t,n){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=i;return r.chartConfig=(0,w.extend)({},S,r.config),r.title=null,r.chartConfig.title&&(r.title=new p.default(r,w.is.PureObject(r.chartConfig.title)?r.chartConfig.title:null),r.titleText=w.is.String(r.chartConfig.title)?r.chartConfig.title:r.chartConfig.title.text),r.legend=new x.default(r,r.chartConfig.legendOptions),r.wxLayout=new y.default(r),r.chartConfig.animate&&(r.wxAnimation=new k.default(r.chartConfig.animateOptions)),r.emit("init",r.chartConfig),i}return l(e,t),u(e,[{key:"update",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this;return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t,(0,w.extend)({},n,r.chartConfig.point)),r.wxLayout.removeAllBox(),r.wxAnimation&&r.wxAnimation.reset(),r.draw(i)}},{key:"redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this;return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,this.datasets),n.wxLayout.removeAllBox(),n.wxAnimation&&n.wxAnimation.reset(),n.draw(t)}},{key:"draw",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=void 0,n=this,i=t&&n.chartConfig.animate,r=(n.chartConfig.labelDistancePercentage,n.wxLayout),o=n.chartConfig,a=(o.cutoutPercentage,o.rotation,o.color),l=(o.title,o.borderWidth,o.padding);n.emit("beforeDraw",n.chartConfig),e=r.adjustBox(),n.title&&(n.title.update(n.titleText,e),r.addBox(n.title.box)),e=r.adjustBox();var u=(0,m.default)((0,w.extend)(!0,{},a,{count:n.visDatasets.length}));n.legends=n.legends.map(function(t,e){return t.strokeStyle||(t.strokeStyle=n.chartConfig.backgroundColor||t.borderColor||u[e]),(0,w.extend)(!0,{fillStyle:u[e]},A,t)}),n.legend.update(n.legends,e),r.addBox(n.legend.box),e=r.adjustBox(),l=l||.1*e.width,e.width-=l,e.height-=l,n.initRenderConfiog(e);var s=n.renderViews(e);r.addBox(e),n.drawDoughnut(s,e,t),i?(n.emit("animate",n.wxAnimation),n.wxAnimation.run(!0),n.wxAnimation.once("done",function(){n.emit("draw",s)})):n.emit("draw",s)}},{key:"initRenderConfiog",value:function(t){var e=this,n=e.chartConfig,i=n.cutoutPercentage,o=n.labelDistancePercentage,a=(n.rotation,n.innerRadius),l=n.outerRadius,u=n.centerX,s=n.centerY,c=Math.max.apply(Math,r(e.visDatasets.map(function(t){return t.borderWidth||0})));l||(l=Math.min(t.width,t.height));var f=Math.max((l-2*c)/2,0)-10,h=e._longestLabel(e.getTotalValue()),d=e._maximalLabelFontSize(),p=h+d+f*o,v=(t.width-2*(f+c))/2;if(v<p){var y=p-v;f-=y,l-=y}e.chartConfig.outerRadiusWithoutBorder=f,e.chartConfig.outerRadius=l,a||(e.chartConfig.innerRadius=i?f/100*i:0),u&&s||(e.chartConfig.centerX=t.x+t.outerWidth/2,e.chartConfig.centerY=t.y+t.outerHeight/2)}},{key:"renderView",value:function(t,e,n){var i=this,r=i.chartConfig,o=(r.cutoutPercentage,r.labelDistancePercentage,r.rotation,r.innerRadius),a=r.outerRadiusWithoutBorder,l=r.centerX,u=r.centerY,s=t.value,c=t.color,f=t.pointBorderColor,h=t.pointBorderWidth,d=n.startAngle,p=n.legend,v=(n.legendIndex,2*Math.PI*(s/i.getTotalValue())),y={startAngle:d,angle:v,backgroundColor:c||p.fillStyle,borderColor:f||p.strokeStyle,borderWidth:h||2,innerRadius:o,radius:a/100*(t.percentage||100)},g=new P.default(l,u,y);return{value:s,element:g,data:t,index:e}}},{key:"renderViews",value:function(t,e,n){var i=this,r=i.chartConfig,o=(r.cutoutPercentage,r.labelDistancePercentage,r.rotation),a=(r.innerRadius,r.outerRadius,r.outerRadiusWithoutBorder,r.centerX,r.centerY,o);return i.visDatasets.map(function(t,r){e=i.legends[r],n=r;var o=i.renderView(t,r,{startAngle:a,legend:e,legendIndex:n}),l=i.renderLabel(t.value,i.getTotalValue(),o.element,t,e,r);return a+=o.element.angle,o.totalValue=i.getTotalValue(),o.legend=e,o.legendIndex=n,o.formatValue=l,o})}},{key:"renderLabel",value:function(t,e,n,i,r,o){var a=i.label,l=i.format;return w.is.Function(l)?i.format.call(this,a,t,o,e):a}},{key:"drawDoughnut",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this,r=i.chartConfig.animate&&n;if(r){var o=i._getAnimationDrawDoughnut(t,e);if(!o)return;i.wxAnimation.pushActions(o)}else i._drawDoughnut(t,e)}},{key:"_getAnimationDrawDoughnut",value:function(t,e){var n=this,i=n.ctx,r=(n.config.backgroundColor,n.chartConfig),o=r.rotation,a=r.animateOptions,l=a.end-a.start,u=2*Math.PI;return function(r,s,c){var f=u/l,h=o+f*r,d=o+(s?f*s:0);return a.end===r?n._drawDoughnut(t,e):t.forEach(function(t,e){var n=t.element,r=n.startAngle,o=n.endAngle,a=n.options;if(!(r<d&&o<d))if(r<d&&o>d)if(r<h&&o>h){var l=(0,w.extend)({},a);l.angle=h-r,new P.default(t.element.x,t.element.y,l).draw(i)}else t.element.draw(i);else if(r<h&&o>h){var u=(0,w.extend)({},a);u.angle=h-r,new P.default(t.element.x,t.element.y,u).draw(i)}}),i.restore(),i.draw(),r}}},{key:"_drawDoughnut",value:function(t,e){var n=this,i=n.ctx;i.save(),n.initAvoidCollision(),t.forEach(function(t){t.element.draw(n.ctx),n._drawLabel(t,e)}),i.draw(),i.restore()}},{key:"_drawLabel",value:function(t,e){var n=this,i=n.ctx,r=n.chartConfig.labelDistancePercentage||.2,o=(t.value,t.element),a=t.data,l=(t.legend,t.formatValue),u=(t.totalValue,o.startAngle+o.angle/2),s=o.radius,c=o.x,f=o.y,h=Math.cos(u)*s+c,d=Math.sin(u)*s+f,p=s*r,v=s+p,y=Math.cos(u)*v+c,g=Math.sin(u)*v+f,x=n.avoidCollision({x:y,y:g},{x:c,y:f});y=x.x,g=x.y;var b=i.measureText(l).width,m=y+(y-c>0?p:-p),w=g,_=y-c>0?m+4:m-4-b,k=w;i.save(),i.beginPath(),i.lineWidth=1,i.textBaseline="middle",i.strokeStyle=t.element.options.backgroundColor,i.fillStyle=t.element.options.backgroundColor,a.fontSize&&(i.fontSize=a.fontSize),i.moveTo(h,d),i.lineTo(y,g),i.lineTo(m,w),i.stroke(),i.fillText(l,_,k),i.restore()}},{key:"_longestLabel",value:function(t){var e=this,n=e.visDatasets,i=e.ctx,r=0;return n.forEach(function(n){var o=n.label,a=n.value,l=n.format;o=w.is.Function(l)?l.call(e,o,a,t,0,n):o;var u=i.measureText(o).width;r=u>r?u:r}),r}},{key:"_maximalLabelFontSize",value:function(){var t=this,e=t.visDatasets,n=0;return e.forEach(function(t){var e=t.fontSize;n=e>n?e:n}),n}},{key:"initAvoidCollision",value:function(){this._lastPoint=null}},{key:"avoidCollision",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.ctx.fontSize+4,i=this,r=(i.box,e.x);e.y;if(i._lastPoint){var o=i._lastPoint.x,a=i._lastPoint.y,l=t.x,u=t.y;if((l-r)*(o-r)>0&&Math.abs(a-u)<n){var s=l-r>0?a+n:a-n;t.y=s}}return this._lastPoint=t,t}},{key:"elementTooltip",value:function(t,e){for(var n=this,i=n.chartConfig.tooltip,r=i.content,o=void 0,a=void 0,l=void 0,u=0;u<e.length;u++){l=e[u];var s=l.element;if(s&&s.inRange(t.x,t.y)){o=i.mouseFollow?{x:t.x,y:t.y,padding:s.padding}:s.tooltipPosition(t.x,t.y),a=w.is.Function(r)?r.call(n,l):r.toString();break}}return{position:o,text:a,views:l}}},{key:"axisTooltip",value:function(t,e){return this.elementTooltip(t,e)}}]),e}(h.default);n.default=T},{"../core/animation":15,"../core/layout":19,"../core/legend":20,"../core/title":22,"../elements/arc":24,"../util/helper":32,"../util/randomColor":34,"../util/wxCanvas":37,"./wxChart":14}],13:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},s=t("es6-mixins"),c=i(s),f=t("../util/helper"),h=t("../util/randomColor"),d=i(h),p=t("../util/wxCanvas"),v=(i(p),t("./wxChart")),y=i(v),g=t("../core/title"),x=i(g),b=t("../core/scale"),m=(i(b),t("../scale/scale.liner")),w=i(m),_=t("../scale/scale.crosshelp"),k=i(_),C=t("../scale/scale.stackhelp"),P=i(C),S=t("../scale/scale.category"),A=i(S),O=t("../core/legend"),T=i(O),M=t("../core/layout"),W=i(M),j=t("../core/animation"),z=i(j),E=t("../elements/point"),B=i(E),R=t("bezier-js"),I=t("tinycolor2"),D={lineWidth:1,lineJoin:"miter",fillArea:!1,fillAlpha:.7,display:!0,spanGaps:!1,tension:.4},L={xScaleOptions:{position:"bottom"},xScaleItemOptions:void 0,yScaleOptions:{position:"left"},yScaleItemOptions:void 0,crossScaleOptions:{},title:void 0,stacked:!1,discardNeg:!1,legends:[],legendOptions:{position:"bottom"},point:{},color:{hue:"red",luminosity:"light"},defaultKey:"value",animate:!0,animateOptions:{start:1,end:1001,duration:1e3}},F={showLabel:!0,pointRadius:4,pointStyle:"circle",pointBorderWidth:2,pointBorderColor:"#ffffff",display:!0},N=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i._animateLineTick=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return n?(t%e+i*e)/(e*n):0},i._lineToPoint=function(t,e,n,r){var o=i.ctx;if(r&&0!==r){var a=(0,f.splineCurve)(t,e,n,r);t?o.bezierCurveTo(t.controlPoints.next.x,t.controlPoints.next.y,a.previous.x,a.previous.y,e.x,e.y):o.moveTo(e.x,e.y),e.controlPoints=a}else o.lineTo(e.x,e.y)},i._animateLineToPoint=function(t,e,n,r,o,a){var l=i.ctx;if(a&&0!==a){var u=void 0,s=void 0,c=void 0,h=void 0,d=(0,f.splineCurve)(t,e,n,a);if(t&&e){var p=new R({x:t.x,y:t.y},{x:t.controlPoints.next.x,y:t.controlPoints.next.y},{x:d.previous.x,y:d.previous.y},{x:e.x,y:e.y}),v=p.split(r||0,o);u=v.point(0),s=v.point(1),c=v.point(2),h=v.point(3),l.moveTo(Math.round(u.x),u.y),l.bezierCurveTo(s.x,s.y,c.x,c.y,Math.round(h.x),h.y)}return e.controlPoints=d,{startPoint:u?{x:Math.round(u.x),y:u.y}:null,endPoint:h?{x:Math.round(h.x),y:h.y}:null}}var y=t.x,g=e.x,x=t.y,b=e.y,m=Math.sqrt(Math.pow(g-y,2)+Math.pow(b-x,2)),w=(g-y)/m,_=(b-x)/m,k=y+w*o,C=x+_*o;return l.moveTo(y,x),l.lineTo(k,C),{startPoint:t,endPoint:{x:k,y:C}}},i.__fillInHere=function(t,e,n,r){var o=i.ctx;o.lineTo(e.x,n),o.lineTo(t.x,n),o.globalAlpha=r,o.fill(),o.globalAlpha=1},(0,c.default)([P.default],i,{mergeDuplicates:!1});var a=i;return a.chartConfig=(0,f.extend)({},L,a.config),a.title=null,a.chartConfig.title&&(a.title=new x.default(a,f.is.PureObject(a.chartConfig.title)?a.chartConfig.title:null),a.titleText=f.is.String(a.chartConfig.title)?a.chartConfig.title:a.chartConfig.title.text),a.legend=new T.default(a,a.chartConfig.legendOptions),a.yAxis=new w.default(a,a.chartConfig.yScaleOptions),a.xAxis=new A.default(a,a.chartConfig.xScaleOptions),a.wxCrossScale=new k.default(a.xAxis,a.yAxis,a.chartConfig.crossScaleOptions),a.wxLayout=new W.default(a),a.chartConfig.animate&&(a.wxAnimation=new z.default(a.chartConfig.animateOptions)),a.emit("init",a.chartConfig),i}return a(e,t),l(e,[{key:"update",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this;return r._labels=null,r._legends=null,u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t,(0,f.extend)({},n,r.chartConfig.point)),r.wxLayout.removeAllBox(),r.wxAnimation&&r.wxAnimation.reset(),r.draw(i)}},{key:"redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this;return u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,this.datasets),n.wxLayout.removeAllBox(),n.wxAnimation&&n.wxAnimation.reset(),n.draw(t)}},{key:"renderViews",value:function(t,e,n){var i=this,r=i.chartConfig.stacked,o=i.chartConfig.discardNeg,a=e.key;return i.visDatasets.map(function(t,l){var u=i.renderView(t,l,{legend:e,legendIndex:n,stacked:r,discardNeg:o,key:a});return u.totalValue=i.getTotalValue(a),u.legend=e,u.legendIndex=n,u.formatValue=i.renderLabel(u.value,u.totalValue,u.element,u.data,u.legend,u.legendIndex),u})}},{key:"renderView",value:function(t,e,n){var i=this,r=n.legend,o=n.legendIndex,a=n.stacked,l=n.discardNeg,u=n.key,s=t[u],c=void 0;if(s){var f=void 0,h=i.xAxis.getPoint(e);if(a)if(l){var d=i._getStackValue(e,o),p=d.sumPos;f=s<0?i.yAxis.getPoint(p):i.yAxis.getPoint(p+s)}else f=i._getStackPoint(e,o);else f=i.yAxis.getPoint(s);var v={radius:t.pointRadius,style:t.pointStyle,backgroundColor:t.pointBackgroundColor||r.fillStyle,borderWidth:t.pointBorderWidth,borderColor:t.pointBorderColor||r.strokeStyle,touched:{radius:t.touched?t.touched.pointRadius:t.pointRadius+2,borderWidth:t.touched?t.touched.pointBorderWidth:t.pointBorderWidth+1,style:t.touched?t.touched.pointStyle:t.pointStyle,borderColor:t.touched?t.touched.pointBorderColor:t.pointBorderColor||r.strokeStyle,backgroundColor:t.pointBackgroundColor||r.fillStyle}};c=new B.default(h.x,f.y,v)}return{value:s,element:c,data:t,index:e}}},{key:"renderLabel",value:function(t,e,n,i,r,o){var a=i.label,l=i.format;return f.is.Function(l)?l.call(this,a,t,o,e):t+""}},{key:"draw",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=void 0,n=this,i=t&&n.chartConfig.animate,r=(n.chartConfig.stacked,n.chartConfig.discardNeg,n.wxLayout),o=n.chartConfig,a=(o.cutoutPercentage,o.rotation,o.color);o.borderWidth,o.padding;n.emit("beforeDraw",n.chartConfig),e=r.adjustBox(),n.title&&(n.title.update(n.titleText,e),r.addBox(n.title.box)),e=r.adjustBox();var l=(0,d.default)((0,f.extend)(!0,{},a,{count:n.legends.length}));n.legends=n.legends.map(function(t,e){return t.strokeStyle||(t.strokeStyle=n.chartConfig.backgroundColor||t.borderColor||l[e]),(0,f.extend)(!0,{fillStyle:l[e]},D,t)}),n.legend.update(n.legends,e),r.addBox(n.legend.box),e=r.adjustBox();var u=n._drawScale(e),s=u.xBox,c=u.yBox;r.addBox(s),r.addBox(c),e=r.adjustBox();var h=[];n.legends.map(function(t,i){var r=n.renderViews(e,t,i);h.push(r)}),h.map(function(i){n.drawLine(i,e,t)}),r.addBox(e),i?(n.emit("animate",n.wxAnimation),n.wxAnimation.run(!0),n.wxAnimation.once("done",function(){n.emit("draw",h)})):n.emit("draw",h)}},{key:"_drawScale",value:function(t){var e=this,n=e.xScaleAxisDatas(),i=e.yScaleAxisDatas(t);return e.wxCrossScale.draw(t,n,i)}},{key:"_drawPoint",value:function(t,e,n){var i=this.ctx;e&&t&&(t.draw(i),this._drawLabel(e,n))}},{key:"_drawLabel",value:function(t,e){var n=this,i=n.ctx,r=t.showLabel,o=t.element,a=t.data,l=t.formatValue;if(r){i.save(),i.textBaseline="bottom",i.fillStyle=I(o.options.backgroundColor).darken(15).toString(),a.fontSize&&(i.fontSize=a.fontSize);var u=e.x,s=e.y,c=o.x-i.measureText(l).width/2,f=o.y-i.fontSize/6-(o.radius||0)-(o.options.borderWidth||0);c<u&&(c=u),f<s&&(f=o.y+i.fontSize/6+(o.radius||0)+(o.options.borderWidth||0),i.textBaseline="top"),i.fillText(l,c,f),i.restore()}}},{key:"_getAnimationDrawLine",value:function(t,e){var n=this,i=n.chartConfig.animateOptions,r=n.ctx;if(t.length){var o=t[0].legend,a=o.display,l=o.spanGaps,u=o.tension,s=o.lineWidth,c=o.lineJoin,f=o.fillStyle,h=o.strokeStyle;o.fillArea,o.fillAlpha;if(a){var d=t.length,p=(i.end-i.start)/(d-1);return function(e,i,o){r.save(),r.lineWidth=s,r.lineJoin=c,r.strokeStyle=h,r.fillStyle=f;var a=i?Math.floor(e/p)+1:0,d=void 0,v=void 0,y=void 0,g=void 0,x=i?i.t:0,b=0,m=n.getCurrView(t,a),w=n.getNextViewHasElement(t,a,l),_=n.getPreViewHasElement(t,a,l),k=void 0,C=i?a-i.index:0;return m&&(v=m.element,d=m.element,y=m.index,g=m.data,b=n._animateLineTick(e,p,y-(_?_.index:0),a-(_?_.index:0)-1)),_&&(k=n.getPreElement(t,_.index,l)),!v&&w&&(v=w.element,y=w.index,w=n.getNextViewHasElement(t,w.index,l)),1==C&&(_&&_.element&&(r.beginPath(),n._animateLineToPoint(k,_.element,v,x,1,u),r.stroke()),x=0),(!d&&l||d)&&v&&(r.beginPath(),n._animateLineToPoint(_?_.element:null,v,w?w.element:null,x,b,u),r.stroke()),0==x&&_&&_.element&&_.element.draw(r),r.draw(),r.restore(),{point:d,t:b,index:a,diffIndex:C}}}}}},{key:"_drawLine",value:function(t,e){var n=this,i=this,r=i.ctx;if(t.length){var o=t[0].legend,a=o.display,l=o.spanGaps,u=o.tension,s=o.lineWidth,c=o.lineJoin,f=o.fillStyle,h=o.strokeStyle,d=o.fillArea,p=o.fillAlpha,v=i.xAxis.getPoint(0).y-i.xAxis.config.lineWidth/2;if(a){r.save(),r.lineWidth=s,r.lineJoin=c,r.strokeStyle=h,r.fillStyle=f,d&&!function(){r.beginPath();var e=void 0,o=void 0;t.forEach(function(r,a){var s=r.element;if(o)if(s)n._lineToPoint(o,s,i.getNextElement(t,a,l),u);else{if(l)return;n.__fillInHere(e,o,v,p),e=void 0}else s&&(n._lineToPoint(o,s,i.getNextElement(t,a,l),u),e=s);o=s}),o&&e&&n.__fillInHere(e,o,v,u,p)}(),r.beginPath();var y=void 0;t.forEach(function(e,r){var o=e.element;if(o)n._lineToPoint(y,o,i.getNextElement(t,r,l),u);else if(l)return;y=o}),r.stroke(),t.forEach(function(t,n){i._drawPoint(t.element,t,e)}),r.draw(),r.restore()}}}},{key:"drawLine",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this,r=n&&i.chartConfig.animate,o=i.chartConfig.animateOptions;if(r){var a=i._getAnimationDrawLine(t,e);if(!a)return;i.wxAnimation.pushActions(a),i.wxAnimation.pushActions(function(n){o.end===n&&i._drawLine(t,e)})}else i._drawLine(t,e)}},{key:"yScaleAxisDatas",value:function(t){var e=this,n=e.chartConfig.stacked,i=e.chartConfig.discardNeg,r=e.ctx,o=e.chartConfig.yScaleItemOptions,a=e.yAxis.calculateTickLimit(t,r);if(n){var l=e.stackYScaleAxisLimit(),u=l.max,s=l.min;return e.yAxis.buildDatasets(u,s<0&&i?0:s,a,void 0,o)}var c=this.visDatasets.reduce(function(t,n){var i=t.max,r=t.min;if(n.display){var o=e.legends.map(function(t){if(t.key)return n[t.key]||0}).concat(i,r);i=Math.max.apply(Math,o),r=Math.min.apply(Math,o)}return{max:i,min:r}},{max:0,min:0}),f=c.max,h=c.min;return e.yAxis.buildDatasets(f,h,a,void 0,o)}},{key:"xScaleAxisDatas",value:function(){var t=this,e=t.chartConfig.xScaleItemOptions,n=t.labels.map(function(t){var n={text:t};return"undefined"!=typeof e&&(n=(0,f.extend)(n,e)),n});return t.xAxis.buildDatasets(n)}},{key:"elementTooltip",value:function(t,e){for(var n=this,i=n.chartConfig.tooltip,r=i.content,o=void 0,a=void 0,l=void 0,u=0;u<e.length;u++)for(var s=e[u],c=0;c<s.length;c++){l=s[c];var h=l.element;if(h&&h.inRange(t.x,t.y)){o=i.mouseFollow?{x:t.x,y:t.y,padding:h.padding}:h.tooltipPosition(t.x,t.y),a=f.is.Function(r)?r.call(n,l,n.labels):r.toString();break}}return{position:o,text:a,views:l}}},{key:"axisTooltip",value:function(t,e){for(var n=this,i=n.chartConfig.tooltip,r=i.axisMark,o=i.content,a=-1,l=[],u=0;u<e.length;u++)for(var s=e[u],c=0;c<s.length;c++){var h=s[c],d=h.element;a>-1&&h.index==a?l.push(h):d&&d.inXRange(t.x)&&(a=h.index,l.push(h))}var p=void 0,v=void 0,y=void 0,g=void 0;return a>=0&&!function(){var e=n.xAxis.getPoint(a);p={x:e.x,y:t.y,padding:l[0].element.padding},v=f.is.Function(o)?o.call(n,l,n.labels):o.toString();var i=t.canvas.contextInstance;y=function(t,e){return t&&e&&t.views[0].index===e.views[0].index},g=function(){var t=n.yAxis.getPoint(n.yAxis.visDatasets[n.yAxis.visDatasets.length-1].value),o=n.yAxis.getPoint(n.yAxis.visDatasets[0].value);i.save(),i.beginPath(),i.lineWidth=r.lineWidth,i.strokeStyle=r.strokeStyle||n.yAxis.config.color,i.moveTo(e.x,o.y),i.lineTo(e.x,t.y),i.stroke(),i.restore()}}(),{position:p,text:v,views:l,checker:y,before:g}}}]),e}(y.default);n.default=N},{"../core/animation":15,"../core/layout":19,"../core/legend":20,"../core/scale":21,"../core/title":22,"../elements/point":25,"../scale/scale.category":27,"../scale/scale.crosshelp":28,"../scale/scale.liner":29,"../scale/scale.stackhelp":30,"../util/helper":32,"../util/randomColor":34,"../util/wxCanvas":37,"./wxChart":14,"bezier-js":1,"es6-mixins":5,tinycolor2:9}],14:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){return t&&t in w?w[t]:null}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n.getChartInstances=l;var s=t("../util/helper"),c=t("../util/wxCanvas"),f=i(c),h=t("../core/layout"),d=t("../core/event"),p=i(d),v=t("../core/tooltip"),y=i(v),g=t("../util/emitter"),x=i(g),b={fontSize:10,width:300,height:200,display:"block",padding:0},m={model:"element",axisMark:{strokeStyle:"#666666",lineWidth:1},displayTooltip:!0,delay:200,mouseFollow:!1,content:function(t,e){var n=void 0;if(s.is.Array(t)&&1===t.length?n=t[0]:s.is.PureObject(t)&&(n=t),n){var i={};return e?(i.title=e[n.index],i.text=n.legend.text+" : "+n.value):i.title=n.legend.text+" : "+n.value,i}var r=e[t[0].index],o=t.map(function(t){return t.legend.text+":"+(t.value?t.value:"")}).join("</br>");return{title:r,text:o}},defaultChecker:function(t,e){return t&&e&&t.position.x===e.position.x&&t.position.y===e.position.y}},w={},_=function(t){function e(t,n){var i;r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));a.getCurrView=function(t,e){if(!(e>t.length-1))return t[e]},a.getNextViewHasElement=function(t,e,n){if(!(e>=t.length-1)){var i=t[e+1];return i.element?i:n?a.getNextViewHasElement(t,e+1,n):void 0}},a.getNextElement=function(t,e,n){var i=a.getNextViewHasElement(t,e,n);return i?i.element:null},a.getPreViewHasElement=function(t,e,n){if(!(e<=0)){var i=t[e-1];return i.element?i:n?a.getPreViewHasElement(t,e-1,n):void 0}},a.getPreElement=function(t,e,n){var i=a.getPreViewHasElement(t,e,n);return i?i.element:null};var l=a,u=void 0;return s.is.PureObject(n)?u=(0,s.extend)({},b,n):(s.is.Number(n)||s.is.String(n))&&(u={width:arguments[1],height:2 in arguments?arguments[2]:b.height,display:3 in arguments?arguments[3]:b.display},4 in arguments&&s.is.PureObject(arguments[4])?(0,s.extend)({},b,u,arguments[4]):(0,s.extend)({},b,u)),u=(0,s.extend)({},{tooltip:m},u),l.canvas=new f.default(t,u),l.ctx=l.canvas.getContext("2d"),l.isWeiXinAPP=(0,s.checkWX)(),l._id=(0,s.uid)(),l.emit("initCanvas",l.canvas,l.ctx,l.id+""),l._config=l.initConfig(u),l.initContext(),w[l.id+""]=l,i=l,o(a,i)}return a(e,t),u(e,[{key:"initConfig",value:function(t){var e=this;e.canvas||console.error("Failed to create WxChart: can't acquire context!");var n=e.canvas,i=n.width,r=n.height;return t.width=i,t.height=r,t.aspectRatio=t.aspectRatio?t.aspectRatio:s.is.Undefined(r)||s.is.Undefined(i)?null:(i/r).toFixed(2),t.display=t.display||"block",t}},{key:"initContext",value:function(){var t=this;if(!t.canvas)return console.error("Failed to create WxChart: can't acquire context!"),t;(0,s.retinaScale)(t.ctx,t.canvas.width,t.canvas.height),t.config.fontSize&&(t.ctx.fontSize=t.config.fontSize);var e=t.config.padding||0;t.innerBox=new h.BoxInstance("top",0,0,t.canvas.width-2*e,t.canvas.height-2*e,t.canvas.width,t.canvas.height)}},{key:"draw",value:function(t){}},{key:"redraw",value:function(t){}},{key:"renderViews",value:function(t,e,n){}},{key:"renderView",value:function(t,e,n){}},{key:"renderLabel",value:function(t,e,n,i,r,o){}},{key:"update",value:function(t,e){var n=this;if(!s.is.Undefined(t))return s.is.Array(t)||(t=[t]),t=t.map(function(t){return(0,s.extend)({},e,t)}),n.emit("update",t),n.clear(),n._datasets=t,n._visDatasets=null,n.totalValues=n.calculateTotal(),n._datasets}},{key:"clear",value:function(){var t=this;t.ctx.clearRect(0,0,t.canvas.width,t.canvas.height),t.config.backgroundColor&&(t.ctx.save(),t.ctx.fillStyle=t.config.backgroundColor,t.ctx.fillRect(0,0,t.canvas.width,t.canvas.height),t.ctx.restore(),t.ctx.draw()),t.emit("clear",t.canvas)}},{key:"destroy",value:function(){var t=this;t.clear(),t.canvas.releaseContext(),t.id&&t.id in w&&delete w[t.id],t.canvas=null,t.ctx=null,t._config=null,t.innerBox=null,t.emit("destroy")}},{key:"getLegendConfig",value:function(){var t=this,e=t.chartConfig.defaultKey||"value",n=t.chartConfig.legends;if(n)n=n.map(function(t){return(0,s.extend)(!0,{key:e},t)});else{if(!t.labels||!t.labels.length)throw new Error("Can not get legend config!");n=t.labels.map(function(t){return{text:t,key:e}})}return n}},{key:"calculateMaxValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.visDatasets,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key",n=this,i=0;return n.legends.forEach(function(n,r){t.forEach(function(t,r){var o=parseFloat(t[n[e]]);s.is.NaN(o)||(i=i>o?i:o)})}),i}},{key:"calculateTotal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.visDatasets,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key",n=this,i={};return n.legends.forEach(function(n,r){var o=0;t.forEach(function(t,i){var r=parseFloat(t[n[e]]);s.is.NaN(r)||(o+=Math.abs(r))}),i[n[e]]=o}),i}},{key:"getTotalValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",e=this;return e.totalValues&&(e.totalValues=e.calculateTotal()),e.totalValues[t]}},{key:"elementTooltip",value:function(t,e){throw Error("Chart must implement elementTooltip")}},{key:"axisTooltip",value:function(t,e){throw Error("Chart must implement axisTooltip")}},{key:"mouseoverTooltip",value:function(t){var e=this,n=e.chartConfig.tooltip,i=void 0,r=void 0,o=n.delay||0,a=new p.default(this),l=new y.default(this,n);return function(u){var s=a.eventReceiver(u);if(s){var c=e[n.model+"Tooltip"].call(e,s,t),f=c.position,h=c.text,d=c.checker,p=c.before,v=c.after;if(d=d||n.defaultChecker,!f)return i&&(clearTimeout(i),i=null),l.shown&&(l.clear(),e.redraw(!1)),void(r=null);if(!d||!d(c,r)){i&&(clearTimeout(i),i=null),l.shown&&(l.clear(),e.redraw(!1)),r=c;var y=f.x+f.padding,g=f.y+f.padding,x=e.innerBox.clone();x.x=y,x.y=g;var b=l.calculateBox(x,h);b.ex>e.innerBox.ex&&(x.x=f.x-f.padding-b.outerWidth),b.ey>e.innerBox.ey&&(x.y=f.y-f.padding-b.outerHeight),i=setTimeout(function(){p&&p.call(e,l,x),
l.update(h,x),v&&v.call(e,l,x)},o)}}}}},{key:"id",get:function(){return this._id}},{key:"config",get:function(){return this._config||(this._config=(0,s.extend)({},b)),this._config},set:function(t){var e=this;e._config=e.initConfig(t),e.initContext(),e.clear(),e.draw()}},{key:"datasets",get:function(){return this._datasets},set:function(t){return this.update(t)}},{key:"visDatasets",get:function(){return this._visDatasets?this._visDatasets:this._visDatasets=this.datasets.filter(function(t){return!!t.display})},set:function(t){}},{key:"labels",get:function(){var t=this,e=void 0;return t._labels?t._labels:(e=t.chartConfig.labels)&&s.is.Array(e)?e:(t._labels=t.visDatasets.map(function(t){return t.label}),t._labels)}},{key:"legends",get:function(){var t=this;return t._legends||(t._legends=t.getLegendConfig()),t._legends},set:function(t){this._legends=t}}]),e}(x.default);n.default=_},{"../core/event":18,"../core/layout":19,"../core/tooltip":23,"../util/emitter":31,"../util/helper":32,"../util/wxCanvas":37}],15:[function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(){var t=[];return function(e){for(var n=arguments,i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];var a=this;if(a instanceof g){var l=void 0;return t.forEach(function(t){l=t.apply(a,n)}),l}return t.push(e),t}}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n.wxAnimationActLinker=u;var c=t("../util/tweezer"),f=r(c),h=t("ez.js"),d=i(h),p=t("../util/helper"),v=t("../util/emitter"),y=r(v),g=function(t){function e(t){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.currentActionIndex=0,n.handOverAction=function(){n.currentActionIndex++},n.stop=function(){n.currentActionIndex=0,n.tweenzerHandler.stop(),n.started=!1,n.emit("stop")},n.reset=function(){n.currentActionIndex=0,n.tweenzerHandler.stop().off("tick").off("done"),n.started=!1,n.resetActions(),n.emit("reset")};var i=d.easeInOutQuad;return t.easeType&&"undefined"!=typeof d[t.easeType]&&(i=d[t.easeType]),n.tweenzerHandler=new f.default((0,p.extend)({easing:i},t)),n.actions=[],n}return l(e,t),s(e,[{key:"pushActions",value:function(t){if(!p.is.Function(t))throw new Error("Should pass to an `action` callback function");return this.actions.push(t)}},{key:"resetActions",value:function(){this.actions=[]}},{key:"runTick",value:function(t,e){var n=this,i=n.currentActionIndex||0;if(!(i>=n.actions.length)){var r=void 0,o=n.actions[i],a=i+1<=n.actions.length?n.actions[i+1]:null;return n.emit("tick",t,e,n.handOverAction,a,!1),r=o.apply(n,[t,e,n.handOverAction,a])}}},{key:"runTickParallel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this,i=n.actions,r=n.actions.length;return i.forEach(function(o,a){var l=e?e[a]:null,u=function(){},s=a+1<r?i[a+1]:null;n.emit("tick",t,l,u,s,!0);var c=o.apply(n,[t,l,u,s]);e[a]=c}),e}},{key:"tick",value:function(t){var e=this,n=void 0;return function(i){n=t?e.runTickParallel(i,n):e.runTick(i,n)}}},{key:"run",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this;e.emit("start",t),e.started=!0,e.tweenzerHandler.on("tick",e.tick(t)).on("done",function(){e.currentActionIndex=0,e.started=!1,e.emit("done",t)}).begin()}}]),e}(y.default);n.default=g},{"../util/emitter":31,"../util/helper":32,"../util/tweezer":36,"ez.js":6}],16:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("../util/helper"),l=t("./layout"),u=t("../charts/wxChart"),s=i(u),c=t("../util/wxCanvas"),f=(i(c),function(){function t(e,n){r(this,t);var i=this;if(!e||!e instanceof s.default)throw new Error("Should be an WxChart instance");return i.wxChart=e,this._datasets=[],i}return o(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;if((a.is.Undefined(t)||a.is.Null(t))&&(t=n.datasets,!t))throw new Error("Datasets is null");return a.is.Array(t)||(t=[t]),t=t.map(function(t){return(0,a.extend)({},e,t)}),n._datasets=t,n._visDatasets=null,n._datasets}},{key:"update",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,i=this;if(i.clear(),t){if(t=i.init(t),e&&e instanceof l.BoxInstance)e=i.box=i.calculateBox(e,t,n);else{if(!i.box)return;e=i.box}i.isVisiable()&&i.draw(t,e,n)}}},{key:"calculateBox",value:function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.datasets,arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config;return t}},{key:"setBox",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;e&&n.clear(),t&&t instanceof l.BoxInstance&&(n.box=n.calculateBox(t,this.datasets)),e&&n.isVisiable()&&n.draw()}},{key:"draw",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.datasets,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.box,arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config}},{key:"clear",value:function(){var t=this;t.box&&(t.wxChart.ctx.clearRect(t.box.x,t.box.y,t.box.outerWidth,t.box.outerHeight),t.wxChart.ctx.draw())}},{key:"isVisiable",value:function(){return!!this.config.display}},{key:"isHorizontal",value:function(){return"top"==this.position||"bottom"==this.position}},{key:"datasets",get:function(){return this._datasets},set:function(t){return this.update(t)}},{key:"visDatasets",get:function(){return this._visDatasets?this._visDatasets:this._visDatasets=this.datasets.filter(function(t){return!!t.display})},set:function(t){}},{key:"position",get:function(){return this.config.position},set:function(t){return this.config.position=t,this.update()}}]),t}());n.default=f},{"../charts/wxChart":14,"../util/helper":32,"../util/wxCanvas":37,"./layout":19}],17:[function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=t("../util/helper"),a=function(){function t(e,n,r){i(this,t),this.x=e,this.y=n,this.options=r}return r(t,[{key:"inXRange",value:function(t){throw new Error("Not implement inXRange function!")}},{key:"inYRange",value:function(t){throw new Error("Not implement inYRange function!")}},{key:"inRange",value:function(t,e){throw new Error("Not implement inYRange function!")}},{key:"tooltipPosition",value:function(t,e){var n=this.x,i=this.y;return{x:n,y:i}}},{key:"draw",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new Error("Not implement draw function!")}},{key:"clear",value:function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ffffff";throw new Error("Not implement clear function!")}},{key:"touchedDraw",value:function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],(0,o.extend)({},this.options.touched,e));return this.draw(t,n)}}]),t}();n.default=a},{"../util/helper":32}],18:[function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WxEvent=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=t("../util/helper"),a=t("../util/touch"),l={mouseenter:"mouseenter",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",mouseout:"mouseout",mouseleave:"mouseout",click:"click",dblclick:"dblclick",contextmenu:"contextmenu",touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",touchcancel:"touchcancel",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout",keydown:"keydown",keypress:"keypress",keyup:"keyup",bindlongtap:"longtap",longtap:"longtap",longpress:"longpress"},u=n.WxEvent=function(){function t(e,n,r,o){i(this,t),this.x=n,this.y=r,this.type=l[e.type],this.canvas=o}return r(t,[{key:"width",get:function(){return this.canvas.width}},{key:"height",get:function(){return this.canvas.height}}]),t}(),s=function(){function t(e){i(this,t);var n=this;n.wxChart=e,n.isWX=(0,o.checkWX)()}return r(t,[{key:"eventReceiver",value:function(t){var e=void 0,n=void 0,i=this,r=i.wxChart.canvas;if(t instanceof u)return u;if(i.isWX){var o=a.WxTouch.wxGetRelativeCanvasPos(t);e=o.x,n=o.y}else{var l=a.WxTouch.getRelativeCanvasPos(t,i.wxChart.canvas.canvasInstance);e=l.x,n=l.y}return e&&n?new u(t,e,n,r):null}}]),t}();n.default=s},{"../util/helper":32,"../util/touch":35}],19:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.BoxInstance=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./base"),l=i(a),u=t("../util/helper"),s=n.BoxInstance=function(){function t(e,n,i,o,a,l,s){r(this,t);var c=this;if(u.is.PureObject(e)){var f=e;e=f.position,n=f.x,i=f.y,o=f.width,a=f.height;var h=f.padding,d=f.margin;u.is.Number(h)&&u.is.Number(d)?(l=o+2*h+2*d,s=a+2*h+2*d):(l=f.outerWidth,s=f.outerHeight)}c.position=e,c.width=o,c.height=a,c.outerWidth=l,c.outerHeight=s,Object.defineProperty(this,"x",{get:function(){return n},set:function(t){c.width+=n-t,c.outerWidth+=n-t,n=t}}),Object.defineProperty(this,"y",{get:function(){return i},set:function(t){c.height+=i-t,c.outerHeight+=i-t,i=t}})}return o(t,[{key:"clone",value:function(){var e=this;return new t(e.position,e.x,e.y,e.width,e.height,e.outerWidth,e.outerHeight)}},{key:"isIntersect",value:function(t){var e=this;return!(e.ex<t.x||e.x>t.ex||e.ey<t.y||e.y<t.ey)}},{key:"toObject",value:function(){return{position:this.position,x:this.x,y:this.y,ex:this.ex,ey:this.ey,lx:this.lx,ly:this.ly,rx:this.rx,ry:this.ry,width:this.width,height:this.height,outerHeight:this.outerHeight,outerWidth:this.outerWidth}}},{key:"ex",get:function(){return this.x+this.outerWidth}},{key:"ey",get:function(){return this.y+this.outerHeight}},{key:"lx",get:function(){return this.x+this.marginLR}},{key:"ly",get:function(){return this.y+this.marginTB}},{key:"rx",get:function(){return this.x+this.width+this.marginLR}},{key:"ry",get:function(){return this.y+this.height+this.marginTB}},{key:"marginLR",get:function(){return(this.outerWidth-this.width)/2},set:function(t){u.is.Number(t)&&(this.width-=2*t)}},{key:"marginTB",get:function(){return(this.outerHeight-this.height)/2},set:function(t){u.is.Number(t)&&(this.height-=2*t)}}]),t}(),c=function(){function t(e){r(this,t);var n=this;if(!e||!e instanceof l.default)throw new Error("Should be an WxChart instance");n.wxChart=e,n._boxs=[]}return o(t,[{key:"addBox",value:function(t){var e=this;if(!t instanceof s)throw new Error("Please add an BoxInstance Object");return parseInt(e._boxs.push(t))-1}},{key:"removeBox",value:function(t){var e=this;u.is.Number(t)?e._boxs.splice(t,1):t instanceof s&&e._boxs.splice(e._boxs.indexOf(t),1)}},{key:"removeAllBox",value:function(){this._boxs=[]}},{key:"adjustBox",value:function(){var t=this,e=t.wxChart.innerBox.clone();return t._boxs.forEach(function(t){var n=t.position,i=(t.x,t.y,t.height,t.width,t.outerWidth),r=t.outerHeight;switch(n){case"top":e.y+=r;break;case"bottom":e.outerHeight-=r,e.height-=r;break;case"left":e.x+=i;break;case"right":e.outerWidth-=i,e.width-=i}}),e}}]),t}();n.default=c},{"../util/helper":32,"./base":16}],20:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":_typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":_typeof2(t)},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=t("./base"),f=i(c),h=t("../util/helper"),d=t("./layout"),p={display:!0,position:"top",fullWidth:!0,labels:{boxWidth:30,fontSize:11,padding:10}},v={lineWidth:1,display:!0},y=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.config=(0,h.extend)(!0,{},p,n),i}return a(e,t),u(e,[{key:"init",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,i=this,r=i.config;return t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t,n),t=i.calculateLegendItem(t,r),i._datasets=t,t}},{key:"calculateLegendItem",value:function(t,e){var n=this,i=e.labels||{},r=n.wxChart.ctx,o=i.boxWidth,a=i.fontSize;return!h.is.Array(t)&&h.is.PureObject(t)&&(t=[t]),t=t.map(function(t){var e=r.measureTextByFontSize(t.text,a).width,n=o+a/2+e;return t._prop={fontSize:a,boxHeight:a,boxWidth:o,textWidth:e,width:n},t})}},{key:"calculateBox",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.datasets,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,i=this,r=void 0,o=void 0,a=void 0,u=void 0,s=(i.wxChart,n.labels.fontSize||10),c=t.x,f=t.y,h=n.labels.padding||10;if(i.isHorizontal())!function(){a=n.fullWidth?t.width-2*h:n.width,r=n.fullWidth?t.width:n.width,u=s,o=u+2*h;var l=0,d=0,p=0;e.forEach(function(t){var e=t._prop,n=e.width+h,i=d+n;i>a?(p=p<d?d:p,l++,d=n,n>a&&(console.warn("The width options is too small! width=",a,".The chart will set to ",i),a=n)):d+=n,e.padding=h,e.lineNum=l,e.outerWidth=n}),p=p<d?d:p,l>0&&(u=s*(l+1)+l*s/2,o=u+2*h),c+=(a-p)/2,"bottom"==i.position&&(f=t.ry-o,f=f<t.y?t.y:f)}();else{var p=function(){var n=i.position.match(/left/)?"left":"right",a=i.position.match(/top/)?"top":"bottom",l=0,p=0;return e.forEach(function(t){var e=t._prop.width;l=l<e?e:l,t._prop.padding=h,t._prop.lineNum=p,t._prop.outerWidth=null,p++}),r=l+2*h,u=s*(p+1)+p*h/2,o=u+2*h,"bottom"==a&&(f=t.ry-o,f=f<t.y?t.y:f),"right"==n&&(c=t.rx-r,c=c<0?0:c),{v:new d.BoxInstance({position:n,x:c,y:f,width:l,outerWidth:r,height:u,outerHeight:o})}}();if("object"===("undefined"==typeof p?"undefined":l(p)))return p.v}return new d.BoxInstance({position:n.position,x:c,y:f,width:a,outerWidth:r,height:u,outerHeight:o})}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.datasets,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.box,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,this),i=n.wxChart.ctx,r=e.x,o=e.y;e.width,e.outerWidth,e.height,e.outerHeight;n.clear(),i.save();var a=-1,l=r,u=o;t.forEach(function(t){var e=t.text,n=t.display,s=t.fillStyle,c=t.fillAlpha,f=t.strokeStyle,h=t.lineCap,d=t.lineJoin,p=t.lineWidth,v=t._prop,y=v.width,g=v.fontSize,x=v.textWidth,b=v.padding,m=v.lineNum,w=v.boxWidth,_=v.boxHeight,k=v.outerWidth;if(y){i.textBaseline="middle",i.textAlign="start",i.fillStyle=s,i.fontSize=g,i.strokeStyle=f,i.lineCap=h,i.lineJoin=d,i.lineWidth=p,a<m&&(a=m,l=r+b,u=o+m*g*1.5+b);var C=l;if(0!=p&&i.strokeRect(l,u,w,_),i.globalAlpha=c,i.fillRect(l,u,w,_),i.globalAlpha=1,l+=w+g/2,i.fillText(e,l,u+_/2-p),!n){i.beginPath();var P=i.lineWidth;i.lineWidth=1,i.moveTo(l,u+g/2),i.lineTo(l+x+1,u+g/2),i.stroke(),i.lineWidth=P}l=C+k}}),i.draw(),i.restore()}}]),e}(f.default);n.default=y},{"../util/helper":32,"./base":16,"./layout":19}],21:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},s=t("../util/helper"),c=t("../util/wxCanvas"),f=(i(c),t("./layout")),h=t("./base"),d=i(h),p={display:!0,position:"top",extendLeft:0,extendTop:0,title:void 0,titleFontSize:12,titleFontColor:"#4c4d4d",color:"#000000",lineWidth:1,gridLines:{display:!0,color:"#e0e0e0",lineWidth:1},ticks:{display:!0,autoSkip:!0,lineWidth:1,fontColor:"#000000",fontSize:11,minRotation:0,maxRotation:90}},v={display:!0,lineWidth:1,fontColor:"#000000"},y=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.config=(0,s.extend)(!0,{},p,n),i}return a(e,t),l(e,[{key:"getTicksText",value:function(t){return t&&t.text?t.format?t.format.call(t,t.text,t):t.text:null}},{key:"longestText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.wxChart.ctx,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.datasets,n=this,i=0;return e.forEach(function(e){if(e.display){var r=void 0;if(e.textWidth)r=e.textWidth;else{var o=n.getTicksText(e);r=t.measureText(o).width,e.textWidth=r}i=i<r?r:i}}),i}},{key:"calculateFixPadding",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config,e=this,n=e.wxChart.ctx;if(t.fixPadding)return t.fixPadding;if(e.isHorizontal()){var i=e.visDatasets,r=e.getTicksText(i[0]),o=e.getTicksText(i[i.length-1]);return Math.max(n.measureText(r).width,n.measureText(o).width)}return n.fontSize}},{key:"init",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,i=this;return t=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t,n),i.visDatasets=null,i._datasets=t,i.fixPadding=i.calculateFixPadding(),t}},{key:"calculateBox",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.datasets,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,i=this,r=i.wxChart.ctx,o=r.fontSize,a=i.calculateTickWidth(e,t,n),l=void 0,u=void 0,c=void 0,h=void 0,d=void 0,p=void 0,v=(0,s.toRadians)(n.ticks.minRotation||0),y=(0,s.toRadians)(n.ticks.maxRotation||90),g=v,x=i.lineSpace,b=1,m=i.longestText();if(i.isHorizontal())m>a?a<=r.fontSize?g=y:(g=Math.acos(a/m),h=Math.sin(g)*m+b+x+o/2,h>t.height?(h=t.height,g=Math.asin((h-b-x-o/2)/m)):g>y&&(g=y,h=Math.sin(g)*m+b+x+o/2)):h=1.5*o+b+x,c=t.width,d=t.outerWidth,p=h;else{var w=0;n.title&&(w=r.measureTextByFontSize(n.title,n.titleFontSize).width-b-x-o/2),c=m+b+x+o/2,c=c>w?c:w,c>t.width&&(c=t.width,g=Math.acos((c-b-x-o/2)/m),g=g>y?y:g),h=t.height,d=c,p=t.outerHeight}switch(i.position){case"left":case"top":l=t.x,u=t.y;break;case"right":l=t.x+t.width-d,u=t.y;break;case"bottom":l=t.x,u=t.y+t.height-p}return i.fontRadians=g,new f.BoxInstance(i.position,l,u,c,h,d,p)}},{key:"calculateTickWidth",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.datasets,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.box),e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,n=this,i=void 0,r=n.visDatasets,o=e.ticks.lineWidth,a=s.sum.apply(null,r.map(function(t){return t.lineWidth||o})),l=n.fixPadding;if(n.isHorizontal()){var u=t.width,c=t.marginLR,f=n.calculateTitleWidth(),h=n.config.extendLeft;0!==c?a+=2*o:0!==h&&(a+=o),i=(u-f-a-l)/(r.length-1)}else{var d=t.height,p=t.marginTB,v=n.calculateTitleWidth(),y=e.extendTop;0!==p?a+=2*o:0!==y&&(a+=o),i=(d-v-a-l)/(r.length-1)}return i}},{key:"calculateTitleWidth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config,e=void 0,n=this,i=n.wxChart.ctx;return e=n.isHorizontal()?t.title?i.measureTextByFontSize(t.title,t.titleFontSize).width:0:t.title?t.titleFontSize:0}},{key:"_getTicksLineWidthOffset",value:function(t,e){var n=0,i=this;e||(e=i.visDatasets);var r=this.config.ticks.lineWidth;return e.map(function(e,i){t>=i&&(n+=e.lineWidth||r)}),n}},{key:"getTicksPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tickWidth,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.box,i=this,r=(i.wxChart.ctx,i.fixPadding),o=i.visDatasets,a=void 0,l=void 0;return i.isHorizontal()?(a=t===-1?n.x-i.config.extendLeft+r/2+(i.config.extendLeft?i.config.ticks.lineWidth:0):n.lx+i._getTicksLineWidthOffset(t,o)+e*t+r/2,l="top"===i.position?n.ry-i.lineSpace:n.ly+i.lineSpace):(l=t===-1?n.y-i.config.extendTop+r/2+(i.config.extendTop?i.config.ticks.lineWidth:0):n.ly+i.calculateTitleWidth()+i._getTicksLineWidthOffset(t,o)+e*t+r/2,a="left"===i.position?n.rx-i.lineSpace:n.lx+i.lineSpace),{x:a,y:l}}},{key:"_initDrawATickText",value:function(){var t=this,e=t.wxChart.ctx;switch(t.position){case"left":e.textAlign="end",e.textBaseline="middle";break;case"right":e.textAlign="start",e.textBaseline="middle";break;case"top":e.textAlign="center",e.textBaseline="alphabetic";break;case"bottom":e.textAlign="center",e.textBaseline="top"}}},{key:"_drawATickLine",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this,o=r.wxChart.ctx,a=r.lineSpace,l=t,u=e;switch(r.position){case"left":l+=a;break;case"right":l-=a;break;case"top":u+=a;break;case"bottom":u-=a}o.beginPath(),o.moveTo(l,u),o.lineTo(t,e),o.stroke();var c=void 0;if(i&&i.text&&s.is.String(i.text)){o.save(),r._initDrawATickText(),c=i.format?i.format.call(r,i.text,i,t,e,r.fontRadians):i.text;var f=i.textWidth?i.textWidth:o.measureText(c).width;switch(r.position){case"left":o.translate(t-n/2,e+Math.sin(r.fontRadians)*f/2),o.rotate(r.fontRadians);break;case"right":o.translate(t+n/2,e+Math.sin(r.fontRadians)*f/2),o.rotate(-r.fontRadians);break;case"top":o.translate(t,e-n/2),o.rotate(-r.fontRadians);break;case"bottom":o.translate(t,e+n/2),o.rotate(r.fontRadians)}o.fillText(c,0,0),o.restore()}}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.datasets,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.box,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,i=this,r=i.wxChart.ctx,o=r.fontSize,a=i.fixPadding,l=i.calculateTickWidth(t,e,n),u=n.ticks,s=(e.x,e.y,e.width,e.outerWidth,e.height,e.outerHeight,i.visDatasets),c=i.getTicksPosition(-1,l),f=c.x,h=c.y,d=c.x,p=c.y;r.save(),r.strokeStyle=n.color,r.fillStyle=u.fontColor,r.fontSize=u.fontSize,r.lineWidth=u.lineWidth;var v=i.calculateTitleWidth();i.isHorizontal()?((i.box.marginLR||n.extendLeft)&&(f+=u.lineWidth,i._drawATickLine(f,h,o)),f=i.box.lx+a/2,s.map(function(t){f+=t.lineWidth/2,r.fillStyle=t.fontColor,r.lineWidth=t.lineWidth,r.fontSize=t.fontSize||r.fontSize,i._drawATickLine(f,h,o,t),f+=l+t.lineWidth/2}),f=i.box.ex-a/2-v-s[s.length-1].lineWidth,i.box.marginLR&&i._drawATickLine(f,h,o),r.beginPath(),r.fillStyle=u.fontColor,r.lineWidth=n.lineWidth,r.moveTo(d,h),r.lineTo(f,h),r.stroke(),n.title&&(r.save(),f+=o/2,r.fontSize=n.titleFontSize,r.textAlign="start",r.textBaseline="bottom",r.fillStyle=n.titleFontColor,r.fillText(n.title,f,h),r.restore())):(n.title&&(r.save(),r.fontSize=n.titleFontSize,r.textAlign="center",r.textBaseline="bottom",r.fillStyle=n.titleFontColor,r.fillText(n.title,f,h),r.restore()),(i.box.marginTB||n.extendTop)&&(h+=v,i._drawATickLine(f,h,o)),h=i.box.ly+a/2+v,s.map(function(t){h+=t.lineWidth/2,r.fillStyle=t.fontColor,r.lineWidth=t.lineWidth,r.fontSize=t.fontSize||r.fontSize,i._drawATickLine(f,h,o,t),h+=l+t.lineWidth/2}),h=i.box.ey-a/2,i.box.marginTB&&i._drawATickLine(f,h,o),r.beginPath(),r.fillStyle=u.fontColor,r.lineWidth=n.lineWidth,r.moveTo(f,p),r.lineTo(f,h-s[s.length-1].lineWidth),r.stroke()),r.draw(),r.restore(),i.tickWidth=l}},{key:"getPoint",value:function(t){return null}},{key:"lineSpace",get:function(){var t=this;return t._lineSpace?t._lineSpace:(t._lineSpace=this.config.lineSpace||.5*this.wxChart.ctx.fontSize,t._lineSpace)}}]),e}(d.default);n.default=y},{"../util/helper":32,"../util/wxCanvas":37,"./base":16,"./layout":19}],22:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=t("./base"),s=i(u),c=t("../util/helper"),f=t("./layout"),h={display:!0,position:"top",fullWidth:!0,fontSize:16,fontColor:"#666666",padding:10},d=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.config=(0,c.extend)(!0,{},h,n),i}return a(e,t),l(e,[{key:"init",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},this),n=e.config;if(t=t?t:n.text,c.is.Undefined(t)||c.is.Null(t))throw new Error("Text is null");return e._datasets=t,t}},{key:"calculateBox",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.text,arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config),n=this,i=n.wxChart,r=(i.ctx,e.fontSize||16),o=t.x,a=t.y,l=e.padding||10,u=e.fullWidth?t.width-2*l:e.width,s=e.fullWidth?t.width:e.width,c=r,h=c+2*l;return"bottom"==e.position&&(a=t.ry-h,a=a<t.y?t.y:a),new f.BoxInstance({position:e.position,x:o,y:a,width:u,height:c,outerWidth:s,outerHeight:h})}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.text,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.box,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,i=this,r=i.wxChart.ctx,o=e.x,a=e.y,l=(e.width,e.outerWidth);e.height,e.outerHeight;if(c.is.Undefined(t)||c.is.Null(t))throw new Error("Text is null");var u=n.fontColor,s=n.fontSize;i.clear(),r.save(),r.textBaseline="top",r.textAlign="center",r.fillStyle=u,r.fontSize=s,o+=l/2,r.fillText(t,o,a),r.draw(),r.restore()}}]),e}(s.default);n.default=d},{"../util/helper":32,"./base":16,"./layout":19}],23:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},s=t("../util/helper"),c=t("./layout"),f=t("./base"),h=i(f),d={display:!0,backgroundColor:"#000000",titleFontSize:13,titleLineHeight:13,titleFontColor:"#ffffff",titleUnderline:!0,titleUnderlineWidth:1,titleUnderlineColor:"#dde8ff",fontSize:11,fontLineHeight:15,fontColor:"#ffffff",padding:10,cornerRadius:5,lineSpace:7,width:"auto",opacity:.8,changeLine:"</br>"},p=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.config=(0,s.extend)(!0,{},d,n),i._layout=null,i.shown=!1,i}return a(e,t),l(e,[{key:"init",value:function(t){var e=this,n={};if((s.is.Undefined(t)||s.is.Null(t))&&(t=e.datasets,!t))throw new Error("Datasets is null");if(s.is.Object(t))n.text=t.text,n.title=t.title;else{
if(!s.is.String(t))throw new Error("Must has text");n.title=t}return e._datasets=n,e._visDatasets=null,n}},{key:"calculateBox",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.datasets,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,i=this,r=i.wxChart.canvas,o=i.wxChart.ctx;i._layout=null;var a=e.text,l=e.title,u=n.width,f=(n.height,n.padding),h=n.titleFontSize,d=n.titleLineHeight,p=n.fontSize,v=n.fontLineHeight,y=n.titleUnderline,g=n.titleUnderlineWidth,x=n.lineSpace,b=n.changeLine,m=r.width,w=(r.height,1),_=0,k=0,C=0,P=0,S=0,A=o.measureTextByFontSize(l,h).width;if(s.is.Number(u)&&(k=u-2*f,k>0?w=Math.ceil(A/k):(console.warn("No space to render tooltip's title!"),u="auto")),"auto"===u||u<0){var O=m/2;O<A?(w=Math.ceil(A/O),k=O):(w=1,k=A)}if(P=w*d,a&&a.length){var T=b.length;if(!s.is.String(b))throw new Error("ChangeLine has to a string or Regexp");b=new RegExp(b,"g"),a=a.replace(new RegExp("^"+b),"");var M=void 0,W=a.replace(b,""),j=o.measureTextByFontSize(W,p).width;C=j>2*k?2*k:j,_=Math.ceil(j/C);for(var z=0,E=0,B=0,R=0;null!=(M=b.exec(a));){var I=b.lastIndex-T,D=o.measureTextByFontSize(a.slice(z,I),p).width;D%C?(R=D<C?Math.max(D,R):C,E+=Math.ceil(D/C)):I&&(R=C),z=b.lastIndex,B++}z<a.length&&E++,_=Math.max(_,E),R<C&&R>k&&(C=R),S=_*v}var L=2*(f||0)+P+(a&&a.length?y?2*x+g+S:S:0),F=2.5*(f||0)+Math.max(C,k);return C>k&&(w=Math.ceil(A/C)),i._layout={titleWidth:k,titleHeight:P,titleLineCount:w,contentWidth:C,contentHeight:S,contentLineCount:_},new c.BoxInstance(t.position,t.x,t.y,F,L,F,L)}},{key:"draw",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.datasets,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.box),e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config,n=this,i=(n.wxChart.canvas,this.wxChart.ctx),r=n.datasets,o=r.title,a=r.text,l=n._layout,u=(l.titleLineCount,l.contentLineCount,l.titleHeight),c=(l.contentHeight,t.x),f=t.y,h=t.outerWidth,d=t.outerHeight,p=e.backgroundColor,v=e.padding,y=e.titleFontSize,g=e.titleLineHeight,x=e.titleFontColor,b=e.titleUnderline,m=e.titleUnderlineWidth,w=e.titleUnderlineColor,_=e.lineSpace,k=e.fontSize,C=e.fontLineHeight,P=e.fontColor,S=e.opacity,A=e.cornerRadius;i.save(),i.globalAlpha=S,i.fillStyle=p,n.drawRoundedRectangle(i,c,f,h-1,d,A),i.fill();var O=c+v,T=f+v;if(i.fillStyle=x,i.textBaseline="middle",i.fontSize=y,(0,s.wrapText)(i,o,O,T+g/2,h,g),a&&a.length){var M=void 0,W=void 0;b&&(M=O,W=T+u+_,i.lineWidth=m,i.strokeStyle=w,i.beginPath(),i.moveTo(M,W),i.lineTo(M+h-2*v,W),i.stroke());var j=M,z=W+_+(b?m:0);i.fillStyle=P,i.fontSize=k,(0,s.wrapText)(i,a,j,z+C/2,h,C)}i.draw(),i.restore(),n.shown=!0}},{key:"clear",value:function(){this.shown&&(u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clear",this).call(this),this.shown=!1)}},{key:"drawRoundedRectangle",value:function(t,e,n,i,r,o){t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+i-o,n),t.quadraticCurveTo(e+i,n,e+i,n+o),t.lineTo(e+i,n+r-o),t.quadraticCurveTo(e+i,n+r,e+i-o,n+r),t.lineTo(e+o,n+r),t.quadraticCurveTo(e,n+r,e,n+r-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath()}},{key:"visDatasets",get:function(){return this.datasets}}]),e}(h.default);n.default=p},{"../util/helper":32,"./base":16,"./layout":19}],24:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=t("../util/helper"),s=t("../core/element"),c=i(s),f={borderColor:"#000",borderWidth:1,touch:{}},h=function(t){function e(t,n,i){r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),l=a;l.options=(0,u.extend)({},f,i);var s=l.options,c=s.startAngle,h=s.angle,d=s.radius,p=s.innerRadius;return l.angle=h,l.startAngle=c||0,l.radius=d,l.innerRadius=p||0,a}return a(e,t),l(e,[{key:"inXRange",value:function(t){var e=this.x,n=this.radius;return Math.pow(t-e,2)<Math.pow(n,2)}},{key:"inYRange",value:function(t){var e=this.y,n=this.radius;return Math.pow(t-e,2)<Math.pow(n,2)}},{key:"inRange",value:function(t,e){var n=this.options,i=(n.borderWidth,n.borderColor,n.backgroundColor,this.x),r=this.y,o=this.angle,a=this.startAngle,l=this.radius,u=this.innerRadius,s=t-i,c=e-r,f=Math.sqrt(Math.pow(s,2)+Math.pow(c,2)),h=Math.atan2(c,s);h<-.5*Math.PI&&(h+=2*Math.PI);for(var d=a+o;d<a;)d+=2*Math.PI;for(;h>d;)h-=2*Math.PI;for(;h<a;)h+=2*Math.PI;return h>=a&&h<=d&&f>=u&&f<=l}},{key:"tooltipPosition",value:function(t,e){return{x:t,y:e,padding:this.padding}}},{key:"draw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,i=n.options,r=i.borderWidth,o=i.borderColor,a=i.backgroundColor,l=n.x,u=n.y,s=n.startAngle,c=n.endAngle,f=n.radius,h=n.innerRadius;e&&t.save(),t.beginPath(),t.arc(l,u,f,s,c),t.arc(l,u,h,c,s,!0),t.closePath(),a&&(t.fillStyle=a,t.fill()),o&&(t.strokeStyle=o),r&&(t.lineJoin="bevel",t.stroke()),e&&t.restore()}},{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ffffff",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this,r=i.options,o=r.borderWidth,a=r.backgroundColor,l=i.x,u=i.y,s=i.startAngle,c=i.endAngle,f=i.radius,h=i.innerRadius;n&&t.save(),t.beginPath(),t.arc(l,u,f,s,c),t.arc(l,u,h,c,s,!0),t.closePath(),a&&(t.fillStyle=e,t.fill()),o&&(t.strokeStyle=e,t.lineJoin="bevel",t.stroke()),n&&t.restore()}},{key:"endAngle",get:function(){return this.startAngle+this.angle}},{key:"padding",get:function(){var t=this.options.borderWidth;return 3*t}}]),e}(c.default);n.default=h},{"../core/element":17,"../util/helper":32}],25:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=t("../util/helper"),s=t("../core/element"),c=i(s),f={radius:2,style:"circle",borderWidth:1,borderColor:"#000000",backgroundColor:"#ffffff",hitRadius:2,touched:{radius:4,borderWidth:1}},h=function(t){function e(t,n,i){r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));a._inXRange=function(t){var e=a.options,n=e.radius,i=e.hitRadius;return Math.pow(t-a.x,2)<Math.pow(n+i,2)},a._inYRange=function(t){var e=a.options,n=e.radius,i=e.hitRadius;return Math.pow(t-a.y,2)<Math.pow(n+i,2)};var l=a;return l.options=(0,u.extend)({},f,i),l.radius=l.options.radius||2,a}return a(e,t),l(e,[{key:"inXRange",value:function(t){return this._inXRange(t)}},{key:"inYRange",value:function(t){return this._inYRange(t)}},{key:"inRange",value:function(t,e){var n=this.options,i=n.radius,r=n.hitRadius;return Math.pow(t-this.x,2)+Math.pow(e-this.y,2)<Math.pow(r+i,2)}},{key:"tooltipPosition",value:function(t,e){var n=this.options;n.radius,n.borderWidth;return{x:this.x,y:this.y,padding:this.padding}}},{key:"draw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.options,i=n.radius,r=n.borderWidth,o=n.backgroundColor,a=n.borderColor,l=this.x,u=this.y;e&&t.save(),t.beginPath(),t.fillStyle=o,t.arc(l,u,i,0,2*Math.PI),t.fill(),r&&(t.beginPath(),t.arc(l,u,i,0,2*Math.PI),t.lineWidth=r,t.strokeStyle=a,t.stroke()),e&&t.restore()}},{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ffffff",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.options,r=i.radius,o=i.borderWidth,a=(i.backgroundColor,i.borderColor,this.x),l=this.y;n&&t.save(),t.beginPath(),t.fillStyle=e,t.arc(a,l,r,0,2*Math.PI),t.fill(),o&&(t.beginPath(),t.arc(a,l,r,0,2*Math.PI),t.lineWidth=o,t.strokeStyle=e,t.stroke()),n&&t.restore()}},{key:"padding",get:function(){var t=this.options,e=t.radius,n=t.borderWidth;return e+n}}]),e}(c.default);n.default=h},{"../core/element":17,"../util/helper":32}],26:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=t("../util/helper"),s=t("../core/element"),c=i(s),f=(t("tinycolor2"),{borderColor:"#000",borderWidth:1,border:"top left right bottom",touched:{}}),h=function(t){function e(t,n,i){r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),l=a;l.options=(0,u.extend)({},f,i);var s=l.options,c=s.width,h=s.height;return l.width=c,l.height=h,a}return a(e,t),l(e,[{key:"_getBoxBounds",value:function(){var t=this,e=t.x,n=t.y,i=t.width,r=t.height;return{left:e,top:n,right:e+i,bottom:n+r}}},{key:"inXRange",value:function(t){var e=this._getBoxBounds();return t>e.left&&t<e.right}},{key:"inYRange",value:function(t){var e=this._getBoxBounds();return t>e.top&&t<e.bottom}},{key:"inRange",value:function(t,e){var n=this._getBoxBounds();return t>n.left&&t<n.right&&e>n.top&&e<n.bottom}},{key:"_drawPath",value:function(t,e,n){var i={x:0,y:0},r=e.split(/\W+/),o=function(e,n,r){i.x==e&&i.y==n?r():(t.moveTo(e,n),r())};t.beginPath(),r.indexOf("top")>-1&&o(n.left,n.top,function(){t.lineTo(n.right,n.top)}),r.indexOf("right")>-1&&o(n.right,n.top,function(){t.lineTo(n.right,n.bottom)}),r.indexOf("bottom")>-1&&o(n.right,n.bottom,function(){t.lineTo(n.left,n.bottom)}),r.indexOf("left")>-1&&o(n.left,n.bottom,function(){t.lineTo(n.left,n.top)}),t.stroke()}},{key:"draw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,i=this._getBoxBounds(),r=n.options,o=r.border,a=r.borderColor,l=r.borderWidth,u=r.backgroundColor,s=r.backgroundAlpha;e&&t.save(),u&&(t.beginPath(),t.fillStyle=u,s&&(t.globalAlpha=s),t.rect(n.x,n.y,n.width,n.height),t.fill(),s&&(t.globalAlpha=1)),l&&l>0&&(t.beginPath(),t.lineWidth=l,t.strokeStyle=a,n._drawPath(t,o,i),t.stroke()),e&&t.restore()}},{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ffffff",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this,r=this._getBoxBounds(),o=i.options,a=o.border,l=o.borderWidth;n&&t.save(),t.beginPath(),t.fillStyle=e,t.rect(i.x,i.y,i.width,i.height),t.fill(),l&&l>0&&(t.beginPath(),t.lineWidth=l,t.strokeStyle=e,i._drawPath(t,a,r),t.stroke()),n&&t.restore()}},{key:"tooltipPosition",value:function(t,e){return{x:t,y:e,padding:this.padding}}},{key:"padding",get:function(){return this.width/10}}]),e}(c.default);n.default=h},{"../core/element":17,"../util/helper":32,tinycolor2:9}],27:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=t("../core/scale"),s=i(u),c=t("../util/helper"),f=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),l(e,[{key:"buildTicks",value:function(t,e,n){return t&&c.is.Array(t)?(n=n||0,e=e||t.length,t.slice(n,e)):t}},{key:"buildDatasets",value:function(t,e,n){return this.buildTicks.apply(this,arguments)}},{key:"getPoint",value:function(t){return this.getTicksPosition(t)}}]),e}(s.default);n.default=f},{"../core/scale":21,"../util/helper":32}],28:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("../core/scale"),l=i(a),u=t("../core/layout"),s=(i(u),t("../util/helper")),c={xMargin:void 0,xFirstPointSpace:"auto"},f=function(){function t(e,n,i){if(r(this,t),!e instanceof l.default&&!n instanceof l.default)throw new Error("Should be an WxScale instance");var o=this;o.xScale=e,o.yScale=n,o.config=(0,s.extend)(!0,{},c,i)}return o(t,[{key:"draw",value:function(t,e,n){var i=this,r=i.config,o=r.xMargin,a=r.xFirstPointSpace;i.yScale.init(n);var l=i.yScale.calculateBox(t,n);i.xScale.init(e);var c=i.xScale.calculateBox(t,e),f=c.outerHeight-c.marginTB-i.xScale.lineSpace;i.yScale.config.fixPadding=2*f;var h=l.outerWidth-l.marginLR-i.yScale.lineSpace,d=h-i.xScale.fixPadding/2,p=i.xScale.config.ticks.lineWidth||1,v=void 0;"auto"===a?(n[n.length-1].text="",v=i.xScale.config.extendLeft||Math.min(c.width/10,i.xScale.calculateTickWidth(e,c)/e.length)):0===a?(n[n.length-1].text="",v=0):v=s.is.Function(a)?a(c,l,t,i.xScale,i.yScale,e,n):parseFloat(a),d-=v?2*p:p,d+=v;var y=t.x+d;s.is.Function(o)?o=o(c,l,t,i.xScale,i.yScale,e,n):o&&s.is.Number(o)||(o=0);var g=new u.BoxInstance(c.position,y,c.y,c.width-d-o,c.height,c.outerWidth-d,c.outerHeight);return i.yScale.setBox(l,!1),i.yScale.update(n),i.xScale.setBox(g,!1),i.xScale.config.extendLeft=v,i.xScale.update(e),i.xBox=g,i.yBox=l,{xBox:g,yBox:l}}}]),t}();n.default=f},{"../core/layout":19,"../core/scale":21,"../util/helper":32}],29:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof2(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof2(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=t("../core/scale"),s=i(u),c=t("../util/helper"),f=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),l(e,[{key:"buildTicks",value:function(t,e,n,i){var r=void 0,o=[];if(i&&i>0)r=i;else{var a=(0,c.niceNum)(t-e,!1);r=(0,c.niceNum)(a/(n-1),!0)}var l=Math.floor(e/r)*r,u=Math.ceil(t/r)*r,s=(u-l)/r;s=(0,c.almostEquals)(s,Math.round(s),r/1e3)?Math.round(s):Math.ceil(s);for(var f=0;f<s;f++)o.push(l+f*r);return o.push(u),o}},{key:"buildDatasets",value:function(t,e,n,i,r){var o=this,a=o.buildTicks(t,e,n,i);return o.isHorizontal()||a.reverse(),a.map(function(t){return(0,c.extend)({text:t+"",value:t},r)})}},{key:"calculateTickLimit",value:function(t,e){var n=this,i=e.fontSize,r=void 0,o=n.config.ticks;return r=n.isHorizontal()?Math.min(o.maxTicksLimit?o.maxTicksLimit:11,Math.ceil(t.width/50)):Math.min(o.maxTicksLimit?o.maxTicksLimit:11,Math.ceil(t.height/(2*i)))}},{key:"getPoint",value:function(t){var e=this,n=this.box,i=void 0,r=void 0,o=parseInt(e.visDatasets[0].value),a=parseInt(e.visDatasets[e.visDatasets.length-1].value),l=a-o;if(e.isHorizontal()){var u=e.getTicksPosition(e.visDatasets.length-1).x-e.getTicksPosition(0).x;i=e.getTicksPosition(0).x+u/l*(t-o),r="top"===e.position?n.ry-e.lineSpace:n.ly+e.lineSpace}else{var s=e.getTicksPosition(e.visDatasets.length-1).y-e.getTicksPosition(0).y;i="left"===e.position?n.rx-e.lineSpace:n.lx+e.lineSpace,r=e.getTicksPosition(0).y+s/l*(t-o)}return{x:Math.round(i),y:Math.round(r)}}}]),e}(s.default);n.default=f},{"../core/scale":21,"../util/helper":32}],30:[function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t)}return r(t,[{key:"stackYScaleAxisLimit",value:function(){var t=this,e=0,n=0;return t.visDatasets.forEach(function(i){var r=0,o=0;t.legends.forEach(function(t){var e=t.key,n=i[e];n<0?r+=n||0:o+=n||0}),i.__sumNeg=r,i.__sumPos=o,r<e&&(e=r),o>n&&(n=o)}),{max:n,min:e}}},{key:"_getStackValue",value:function(t,e){for(var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.yAxis,this),i=n.visDatasets[t],r=void 0,o=0,a=0,l=0;l<e;l++)r=i[n.legends[l].key],r<0?o+=r||0:a+=r||0;return{sumNeg:o,sumPos:a}}},{key:"_getStackPoint",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.yAxis,r=this,o=r.visDatasets[t],a=o[r.legends[e].key],l=r._getStackValue(t,e,n,i),u=l.sumNeg,s=l.sumPos;return a<0?i.getPoint(u+a+n):i.getPoint(s+a+n)}}]),t}();n.default=o},{}],31:[function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t)}return r(t,[{key:"on",value:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this}},{key:"once",value:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)}},{key:"emit",value:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;for(i;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this}},{key:"off",value:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,a=i.length;o<a;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}}]),t}();n.default=o},{}],32:[function(t,e,n){function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){var t=Array.from(arguments);return t.reduce(function(t,e){return t+e},0)}function o(t){var e=function(e){for(var n=!0,r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return w.Boolean(e)&&(n=e,e=0 in o?o.shift():null),w.Array(e)?o.forEach(function(t){var n;(n=e).push.apply(n,i(t))}):w.Object(e)&&o.forEach(function(i){for(var r in i)if(!t||i.hasOwnProperty(r)){var o=i[r],a=e[r];w.PureObject(o)?e[r]=n?A(!0,w.PureObject(a)?a:{},o):o:w.Array(o)?e[r]=n?A(!0,w.Array(a)?a:[],o):o:e[r]=o}}),e};return e}function a(){return"undefined"!=typeof wx&&"object"===("undefined"==typeof wx?"undefined":b(wx))}function l(t){if(!O)return Number.parseInt(t);var e=c();if(w.String(t)){var n=t.match(T);return n?+n[1]*e.windowWidth/750:(n=t.match(M),n?+n[1]*e.windowWidth/20:Number.parseInt(t))}if(w.Number(t))return t;throw new Error("Convert px error")}function u(t){return t*(Math.PI/180)}function s(t){return t*(180/Math.PI)}function c(){var t=void 0,e=void 0;if(O){var n=wx.getSystemInfoSync();e=n.windowWidth,t=n.windowHeight}else e=window.innerWidth,t=window.innerHeight;return{windowWidth:e,windowHeight:t}}function f(){if(O){var t=wx.getSystemInfoSync();return t.pixelRatio}return window.devicePixelRatio||1}function h(t,e){var n=Math.floor(Math.log10(t)),i=t/Math.pow(10,n),r=void 0;return r=e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10,r*Math.pow(10,n)}function d(t,e,n){return Math.abs(t-e)<n}function p(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.4,r=t?t:e,o=e,a=n?n:e,l=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),u=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),s=l/(l+u),c=u/(l+u);s=isNaN(s)?0:s,c=isNaN(c)?0:c;var f=i*s,h=i*c;return{previous:{x:o.x-f*(a.x-r.x),y:o.y-f*(a.y-r.y)},next:{x:o.x+h*(a.x-r.x),y:o.y+h*(a.y-r.y)}}}function v(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function y(t,e){var n=v(t,e),i=n&&n.match(/(\d+)px/);return i?Number(i[1]):void 0}function g(t,e,n){var i=f();if(1!==i){var r=t.canvas;O||(r.height=r.height*i,r.width=r.width*i,t.scale(i,i),r.style.height=n+"px",r.style.width=e+"px")}}function x(t,e,n,i,r,o){for(var a=e.split("</br>"),l=0;l<a.length;l++){for(var u="",s=a[l].split(" "),c=0;c<s.length;c++){var f=u+s[c]+" ",h=t.measureText(f),d=h.width;d>r?(t.fillText(u,n,i),u=s[c]+" ",i+=o):u=f}t.fillText(u,n,i),i+=o}return{x:n,y:i}}Object.defineProperty(n,"__esModule",{value:!0});var b="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":_typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":_typeof2(t)};n.sum=r,n.checkWX=a,n.wxConverToPx=l,n.toRadians=u,n.toDegrees=s,n.getWindowSize=c,n.getDPR=f,n.niceNum=h,n.almostEquals=d,n.splineCurve=p,n.getStyle=v,n.readUsedSize=y,n.retinaScale=g,n.wrapText=x;var m=Object.prototype,w=n.is={};["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"].forEach(function(t){w[t]=function(e){return m.toString.call(e)==="[object "+t+"]"}}),w.Array=Array.isArray||function(t){return"[object Array]"===m.toString.call(t)},w.Object=function(t){var e="undefined"==typeof t?"undefined":b(t);return"function"===e||"object"===e&&!!t};var _={},k=_.toString,C=_.hasOwnProperty,P=C.toString,S=P.call(Object);w.PureObject=function(t){var e=void 0,n=void 0;return!(!t||"[object Object]"!==m.toString.call(t))&&(!(e=Object.getPrototypeOf(t))||(n=C.call(e,"constructor")&&e.constructor,"function"==typeof n&&P.call(n)===S))},w.Boolean=function(t){return t===!0||t===!1||"[object Boolean]"===k.call(t)},w.Null=function(t){return null===t},w.Undefined=function(t){return void 0===t},w.NaN=function(t){return w.Number(t)&&t!==+t};var A=(n.REG_HANZI=/[\u4e00-\u9fa5]/,n.REG_ALPHABET=/[a-zA-Z]/,n.REG_NUMBER=/[0-9]/,n.REG_ALPHABET_NUMBER=/[0-9a-zA-Z]/,n.extend=o(!1)),O=(n.extendOwn=o(!0),n.isWeiXinAPP=a()),T=/([\d.]+)rpx/,M=/([\d.]+)rem/;n.uid=function(){var t=0;return function(){return t++,"u"+t}}()},{}],33:[function(t,e,n){(function(n){var i=t("../util/helper"),r=t("performance-now"),o=void 0,a=(0,i.checkWX)();o=a?{}:"undefined"==typeof window?n:window;for(var l=["moz","webkit"],u="AnimationFrame",s=o["request"+u],c=o["cancel"+u]||o["cancelRequest"+u],f=0;!s&&f<l.length;f++)s=o[l[f]+"Request"+u],c=o[l[f]+"Cancel"+u]||o[l[f]+"CancelRequest"+u];s&&c||!function(){var t=0,e=0,n=[],i=1e3/60;s=function(o){if(0===n.length){var a=r(),l=Math.max(0,i-(a-t));t=l+a,setTimeout(function(){var e=n.slice(0);n.length=0;for(var i=0;i<e.length;i++)if(!e[i].cancelled)try{e[i].callback(t)}catch(t){setTimeout(function(){throw t},0)}},Math.round(l))}return n.push({handle:++e,callback:o,cancelled:!1}),e},c=function(t){for(var e=0;e<n.length;e++)n[e].handle===t&&(n[e].cancelled=!0)}}(),e.exports=function(t){return s.call(o,t)},e.exports._root=o,e.exports.cancel=function(){c.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=s,o.cancelAnimationFrame=c}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/helper":32,"performance-now":7}],34:[function(t,e,n){function i(t){var e=u(t.hue),n=f(e);return n<0&&(n=360+n),n}function r(t,e){if("random"===e.luminosity)return f([0,100]);if("monochrome"===e.hue)return 0;var n=s(t),i=n[0],r=n[1];switch(e.luminosity){case"bright":i=55;break;case"dark":i=r-10;break;case"light":r=55}return f([i,r])}function o(t,e,n){var i=l(t,e),r=100;switch(n.luminosity){case"dark":r=i+20;break;case"light":i=(r+i)/2;break;case"random":i=0,r=100}return f([i,r])}function a(t,e){switch(e.format){case"hsvArray":return t;case"hslArray":return y(t);case"hsl":var n=y(t);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var i=y(t),r=e.alpha||Math.random();return"hsla("+i[0]+", "+i[1]+"%, "+i[2]+"%, "+r+")";case"rgbArray":return v(t);case"rgb":var o=v(t);return"rgb("+o.join(", ")+")";case"rgba":var a=v(t),r=e.alpha||Math.random();return"rgba("+a.join(", ")+", "+r+")";default:return h(t)}}function l(t,e){for(var n=c(t).lowerBounds,i=0;i<n.length-1;i++){var r=n[i][0],o=n[i][1],a=n[i+1][0],l=n[i+1][1];if(e>=r&&e<=a){var u=(l-o)/(a-r),s=o-u*r;return u*e+s}}return 0}function u(t){if("number"==typeof parseInt(t)){var e=parseInt(t);if(e<360&&e>0)return[e,e]}if("string"==typeof t&&b[t]){var n=b[t];if(n.hueRange)return n.hueRange}return[0,360]}function s(t){return c(t).saturationRange}function c(t){t>=334&&t<=360&&(t-=360);for(var e in b){var n=b[e];if(n.hueRange&&t>=n.hueRange[0]&&t<=n.hueRange[1])return b[e]}return"Color not found"}function f(t){if(null===x)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var e=t[1]||1,n=t[0]||0;x=(9301*x+49297)%233280;var i=x/233280;return Math.floor(n+i*(e-n))}function h(t){function e(t){var e=t.toString(16);return 1==e.length?"0"+e:e}var n=v(t),i="#"+e(n[0])+e(n[1])+e(n[2]);return i}function d(t,e,n){var i=n[0][0],r=n[n.length-1][0],o=n[n.length-1][1],a=n[0][1];b[t]={hueRange:e,lowerBounds:n,saturationRange:[i,r],brightnessRange:[o,a]}}function p(){d("monochrome",null,[[0,0],[100,0]]),d("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),d("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),d("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),d("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),d("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),d("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),d("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function v(t){var e=t[0];0===e&&(e=1),360===e&&(e=359),e/=360;var n=t[1]/100,i=t[2]/100,r=Math.floor(6*e),o=6*e-r,a=i*(1-n),l=i*(1-o*n),u=i*(1-(1-o)*n),s=256,c=256,f=256;switch(r){case 0:s=i,c=u,f=a;break;case 1:s=l,c=i,f=a;break;case 2:s=a,c=i,f=u;break;case 3:s=a,c=l,f=i;break;case 4:s=u,c=a,f=i;break;case 5:s=i,c=a,f=l}var h=[Math.floor(255*s),Math.floor(255*c),Math.floor(255*f)];return h}function y(t){var e=t[0],n=t[1]/100,i=t[2]/100,r=(2-n)*i;return[e,Math.round(n*i/(r<1?r:2-r)*1e4)/100,r/2*100]}function g(t){for(var e=0,n=0;n!==t.length&&!(e>=Number.MAX_SAFE_INTEGER);n++)e+=t.charCodeAt(n);return e}Object.defineProperty(n,"__esModule",{value:!0});var x=null,b={};p();var m=function t(e){if(e=e||{},void 0!==e.seed&&null!==e.seed&&e.seed===parseInt(e.seed,10))x=e.seed;else if("string"==typeof e.seed)x=g(e.seed);else{if(void 0!==e.seed&&null!==e.seed)throw new TypeError("The seed value must be an integer or string");x=null}var n=void 0,l=void 0,u=void 0;if(null!==e.count&&void 0!==e.count){var s=e.count,c=[];for(e.count=null;s>c.length;)x&&e.seed&&(e.seed+=1),c.push(t(e));return e.count=s,c}return n=i(e),l=r(n,e),u=o(n,l,e),a([n,l,u],e)};n.default=m},{}],35:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WxTouch=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./helper"),l=t("./wxCanvas");i(l),n.WxTouch=function(){function t(){r(this,t)}return o(t,null,[{key:"calculateRectInfo",value:function(t){if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement){var e=t.getBoundingClientRect(),n=parseFloat((0,a.getStyle)(t,"padding-left")),i=parseFloat((0,a.getStyle)(t,"padding-top")),r=parseFloat((0,a.getStyle)(t,"padding-right")),o=parseFloat((0,a.getStyle)(t,"padding-bottom")),l=parseFloat((0,a.getStyle)(t,"border-left")),u=parseFloat((0,a.getStyle)(t,"border-top")),s=parseFloat((0,a.getStyle)(t,"border-right")),c=parseFloat((0,a.getStyle)(t,"border-bottom")),f=n+l,h=r+s,d=i+u,p=o+c,v=e.right-e.left-f-h,y=e.bottom-e.top-d-p,g=t.width/v||1,x=t.height/y||1;return{left:e.left+f,right:e.right+h,top:e.top+d,bottom:e.bottom+p,width:v,height:y,scaleX:g,scaleY:x}}return null}},{key:"getRelativeCanvasPos",value:function(e,n){var i=t.calculateRectInfo(n),r=i.left,o=i.top,a=i.scaleX,l=i.scaleY,u=i.width,s=i.height,c=void 0,f=void 0,h=e.originalEvent||e,d=h.touches;return d&&d.length>0?(c=d[0].clientX,f=d[0].clientY):(c=h.clientX,f=h.clientY),c=Math.round((c-r)/u*n.width/a),f=Math.round((f-o)/s*n.height/l),{x:c,
y:f}}},{key:"wxGetRelativeCanvasPos",value:function(t){var e=void 0,n=void 0;if("touchend"===t.type||"touchstart"===t.type){var i=t.changedTouches;i&&i.length>0&&(e=i[0].x,n=i[0].y)}return{x:e,y:n}}}]),t}()},{"./helper":32,"./wxCanvas":37}],36:[function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=t("./raf"),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.duration=e.duration||1e3,this.ease=e.easing||this._defaultEase,this.start=e.start,this.end=e.end,this.frame=null,this.next=null,this.isRunning=!1,this.events={},this.direction=this.start<this.end?"up":"down"}return r(t,[{key:"begin",value:function(){return this.isRunning||this.next===this.end||(this.frame=o(this._tick.bind(this))),this}},{key:"stop",value:function(){return o.cancel(this.frame),this.isRunning=!1,this.frame=null,this.timeStart=null,this.next=null,this}},{key:"on",value:function(t,e){return this.events[t]=this.events[t]||[],this.events[t].push(e),this}},{key:"off",value:function(t,e){if(!this.events[t])return this;if(e){var n=this.events[t],i=n.findIndex(function(t){return t===e});n.splice(i,1)}else this.events[t]=[];return this}},{key:"emit",value:function(t,e){var n=this,i=this.events[t];i&&i.forEach(function(t){return t.call(n,e)})}},{key:"_tick",value:function(t){this.isRunning=!0;var e=this.next||this.start;this.timeStart||(this.timeStart=t),this.timeElapsed=t-this.timeStart,this.next=Math.round(this.ease(this.timeElapsed,this.start,this.end-this.start,this.duration)),this._shouldTick(e)?(this.emit("tick",this.next),this.frame=o(this._tick.bind(this))):(this.emit("tick",this.end),this.emit("done",null))}},{key:"_shouldTick",value:function(t){return{up:this.next<this.end&&t<=this.next,down:this.next>this.end&&t>=this.next}[this.direction]}},{key:"_defaultEase",value:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}}]),t}();n.default=a},{"./raf":33}],37:[function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var i=0;i<n;i++){var r=parseInt(t[i]),o=parseInt(e[i]);if(r>o)return 1;if(r<o)return-1}return 0}Object.defineProperty(n,"__esModule",{value:!0}),n.WxCanvasRenderingContext2D=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./helper"),l={width:300,height:200},u={fillStyle:"#000000",lineCap:"butt",lineJoin:"miter",lineDashOffset:0,miterLimit:10,lineWidth:1,strokeStyle:"#000000",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000000",font:"10px",textBaseline:"alphabetic",textAlign:"left"},s=9,c=/([\d.]+)px/,f=function(){function t(e,n,r){i(this,t);var o=this;o.isWeiXinAPP=(0,a.checkWX)(),o._config=(0,a.extend)({},l,o.initConfig(n));var u=this.acquireContext(e,n),s=(u.domID,u.canvas),c=u.context;return o.domID=e,o._canvas=s,o._ctx=c,o.wxCanvasRenderingContext2D=new h(s,c,r),o}return o(t,[{key:"initConfig",value:function(t){if(t)return"undefined"!=typeof t.width&&(t.width=(0,a.wxConverToPx)(t.width)),"undefined"!=typeof t.height&&(t.height=(0,a.wxConverToPx)(t.height)),t}},{key:"acquireContext",value:function(t,e){var n=this,i=void 0,r=void 0,o=void 0,l=e.canvas;if(n.isWeiXinAPP){if(!a.is.String(t))throw new Error("Should set an id");r=o=wx.createCanvasContext(t),i=t}else l?r=l:a.is.String(t)?(r=document.getElementById(t),i=t):"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(r=t,i=t.id),"undefined"!=typeof r&&(o=r.getContext&&r.getContext("2d"));return r&&o||console.error("Failed to create WxCanvas: can't acquire context!"),this.initCanvas(r),{domID:i,canvas:r,context:o}}},{key:"initCanvas",value:function(t){var e=this._config,n=void 0,i=void 0,r=void 0,o=void 0,l=void 0;if(o=e.height,l=e.width,this.isWeiXinAPP)n=o,i=l,r=e.display;else{var u=t.style;if(n=t.getAttribute("height"),i=t.getAttribute("width"),u.display=u.display||"block",null===i||""===i){var s=l||(0,a.readUsedSize)(t,"width");void 0!==s&&(t.width=s,l=s)}if(null===n||""===n)if(o||""!==t.style.height){var c=o||(0,a.readUsedSize)(t,"height");void 0!==s&&(t.height=c,o=c)}else t.height=o=t.width/(e.aspectRatio||2)}return e._wxChart={initial:{height:n,width:i,style:{display:r,height:o,width:l}}},t}},{key:"releaseContext",value:function(){var t=this._canvas,e=this._config;if(e._wxChart){var n=e._wxChart.initial;if(this.isWeiXinAPP);else{["height","width"].forEach(function(e){var i=n[e];void 0===i||null===i?t.removeAttribute(e):t.setAttribute(e,i)});var i=n.style,r=!0,o=!1,a=void 0;try{for(var l,u=Object.keys(i)[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var s=l.value;t.style[s]=i[s]}}catch(t){o=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}t.width=t.width}delete e._wxChart}}},{key:"getContext",value:function(t){if("2d"===t)return this.wxCanvasRenderingContext2D}},{key:"config",get:function(){return this._config}},{key:"contextInstance",get:function(){return this._ctx}},{key:"canvasInstance",get:function(){return this._canvas}},{key:"renderHeight",get:function(){if(this.isWeiXinAPP)return this.height;var t=(0,a.wxConverToPx)(this.canvasInstance.getAttribute("height"));return null===t||""===t?(0,a.readUsedSize)(canvas,"height"):t},set:function(t){this.isWeiXinAPP||(this.canvasInstance.height=t)}},{key:"height",get:function(){return this.config.height}},{key:"renderWidth",get:function(){if(this.isWeiXinAPP)return this.width;var t=(0,a.wxConverToPx)(this.canvasInstance.getAttribute("width"));return null===t||""===t?(0,a.readUsedSize)(canvas,"width"):t},set:function(t){this.isWeiXinAPP||(this.canvasInstance.width=t)}},{key:"width",get:function(){return this.config.width}}]),t}();n.default=f;var h=n.WxCanvasRenderingContext2D=function(){function t(e,n,r){i(this,t);var o=this;return o.canvas=e,o._ctx=n,o.isWeiXinAPP=(0,a.checkWX)(),o.isWeiXinAPP&&(o.systemInfo=wx.getSystemInfoSync()),o._ctxOptions=r,o._propertyCache=[(0,a.extend)({},u,r)],o.cp=o._propertyCache[0],o.createStyleProperty(),o.createShadowsProperty(),o.createTextProperty(),o.createLineProperty(),o.createRectProperty(),o.createGradientProperty(),o.createPathProperty(),o.createTransformationProperty(),o.createGlobalAlphaProperty(),o.createFileImageProperty(),o.createGlobalCompositeOperation(),o}return o(t,[{key:"save",value:function(){var t=this;t._ctx.save();var e=(0,a.extend)({},u,t.cp,t._ctxOptions);return t._propertyCache.push(e),t.cp=e,t.cp}},{key:"restore",value:function(){var t=this;return t._ctx.restore(),null!=t.cp&&t._propertyCache.length>1&&(t._propertyCache.pop(),t.cp=t._propertyCache[t._propertyCache.length-1]),t.cp}},{key:"_wxSetPropertyCallable",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"set"+e.replace(/(\w)/,function(t){return t.toUpperCase()}),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=this;return a.is.Null(t)||a.is.Undefined(t)?t:r.cp[e]===t?t:(r.isWeiXinAPP?r._ctx[n](i):r._ctx[e]=t,r.cp[e]=t,t)}},{key:"_wxSetProperty",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this;return a.is.Null(t)||a.is.Undefined(t)?t:i.cp[e]===t?t:(i.isWeiXinAPP?n&&(i._ctx[e]=t):i._ctx[e]=t,i.cp[e]=t,t)}},{key:"_wxCompatibiltyProperty",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=this;if(a.is.Null(t)||a.is.Undefined(t))return t;if(r.cp[e]===t)return t;if(r.isWeiXinAPP){var o="canvasContext."+e;if(!wx.canIUse(o))throw n&&(r._ctx[e]=i),new Error('WeiXin APP not support "'+e+'" property!');r._ctx[e]=i}else r._ctx[e]=t;return r.cp[e]=t,t}},{key:"_wxCompatibiltySetProperty",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"set"+e.replace(/(\w)/,function(t){return t.toUpperCase()}),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;if(this.isWeiXinAPP){var r="canvasContext."+n;if(wx.canIUse(r))return this._wxSetPropertyCallable(t,e,n,i)}return this._wxSetProperty(t,e,!0)}},{key:"_wxCallableMaker",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this;return function(){if(n.isWeiXinAPP){var i;return(i=n._ctx)[e].apply(i,arguments)}var r;return(r=n._ctx)[t].apply(r,arguments)}}},{key:"_wxCompatibiltyCallableMaker",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this;return function(){if(n.isWeiXinAPP){if(wx.canIUse("canvasContext."+t)){var i;return(i=n._ctx)[e].apply(i,arguments)}throw new Error('WeiXinAPP not support "'+t+"("+e+')" function!')}var r;return(r=n._ctx)[t].apply(r,arguments)}}},{key:"createStyleProperty",value:function(){var t=this,e=["fillStyle","strokeStyle"];e.forEach(function(e){Object.defineProperty(t,e,{get:function(){return t.cp[e]},set:function(n){try{return t._wxCompatibiltyProperty(n,e)}catch(i){return t._wxSetPropertyCallable(n,e)}}})})}},{key:"createShadowsProperty",value:function(){var t=this,e=this;["shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor"].forEach(function(n){Object.defineProperty(e,n,{get:function(){return e.cp[n]},set:function(e){var i=t;if(a.is.Null(e)||a.is.Undefined(e))return e;if(i.cp[n]!==e)return i.isWeiXinAPP?i._ctx.setShadow(i.cp.shadowOffsetX||0,i.cp.shadowOffsetY||0,i.cp.shadowBlur||0,i.cp.shadowColor||"#000000"):i._ctx[n]=e,i.cp[n]=e,e}})})}},{key:"createTextProperty",value:function(){var t=this,e="textAlign";Object.defineProperty(t,e,{get:function(){return t.cp[e]},set:function(n){var i=n;"start"!==n&&"end"!==n||(i="start"===n?"left":"right");try{return t._wxCompatibiltyProperty(n,e,void 0,i)}catch(r){return t._wxCompatibiltySetProperty(n,e,void 0,i)}}});var n="textBaseline";Object.defineProperty(t,n,{get:function(){return t.cp[n]},set:function(e){var i=e;if("hanging"===e)return t._wxSetProperty(e,n);"alphabetic"===e&&(i="normal");try{return t._wxCompatibiltyProperty(e,n,void 0,i)}catch(r){return t._wxCompatibiltySetProperty(e,n,void 0,i)}}}),Object.defineProperty(t,"font",{get:function(){return t.cp.font},set:function(e){if(t.isWeiXinAPP)if(wx.canIUse("canvasContext.font")&&t.cp.font!==e)t._ctx.font=e,t.cp.font=e;else{var n=e.match(c);if(n&&t.cp.font!==e){var i=+n[1];t._ctx.setFontSize(i),t.cp.font=e}}else t.cp.font!==e&&(t._ctx.font=e,t.cp.font=e);return t.cp.font}}),Object.defineProperty(t,"fontSize",{get:function(){return parseInt(t.cp.font)},set:function(e){var n=parseInt(e);if(!a.is.NaN(n)){var i=t.isWeiXinAPP?t.cp.font:t._ctx.font;return i=i.replace(c,n+"px"),i===t.cp.font?t.cp.font:(t.isWeiXinAPP?t._ctx.setFontSize(n):t._ctx.font=i,t.cp.font=i,t.cp.font)}}})}},{key:"measureTextByFontSize",value:function(t,e){var n=this;if(e){n.save(),n.fontSize=e;var i=this.measureText(t);return n.restore(),i}return this.measureText(t)}},{key:"_measureTextWidth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.fontSize,n=t.length,i=t.match(new RegExp(a.REG_HANZI,"g")),r=i?i.length:0,o=n-r;return e*(o+2*r+2)/2+e/4}},{key:"measureText",value:function(t){var e=this;if(e.isWeiXinAPP){if(!t)return 0;if(wx.canIUse("canvasContext.measureText"))return e._ctx.measureText(t);var n=e.fontSize,i=e._measureTextWidth(t,n);return{width:i}}return e._ctx.measureText(t)}},{key:"_calculateYForTextBaseline",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,i=this,r=t;if(!i.isWeiXinAPP)return r;var o=i.fontSize,a=i.textBaseline;switch(a){case"top":r=o*n/10+t;break;case"middle":r=o*n/20+t;break;case"alphabetic":case"normal":}return r}},{key:"_calculateXFortextAlign",value:function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,this),i=t;if(!n.isWeiXinAPP)return i;var r=n.textAlign;switch(r){case"end":case"right":i=t-n.measureText(e).width;break;case"center":i=t-n.measureText(e).width/2;break;case"start":case"left":}return i}},{key:"fillText",value:function(t,e,n){for(var i=arguments.length,r=Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];var a=this,l=0 in r?r[0]:void 0,u=1 in r?r[1]:s;if(a.isWeiXinAPP){var c=e,f=n;if(wx.canIUse("canvasContext.setTextBaseline")||wx.canIUse("canvasContext.textBaseline")||(f=a._calculateYForTextBaseline(n,t,u)),wx.canIUse("canvasContext.setTextAlign")||wx.canIUse("canvasContext.textAlign")||(c=a._calculateXFortextAlign(e,t,u)),wx.canIUse("canvasContext.measureText")&&wx.getSystemInfoSync().system.match(/^iOS/)){var h=void 0,d=a.textAlign;return"start"===d||"left"===d?(a.textAlign="center",h=a._ctx.fillText(t,c+a.measureText(t).width/2,f),a.textAlign=d):h=a._ctx.fillText(t,c,f),h}return a._ctx.fillText(t,c,f)}return a._ctx.fillText(t,e,n,l)}},{key:"strokeText",value:function(t,e,n){for(var i=this,r=arguments.length,o=Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];if(i.isWeiXinAPP)return wx.canIUse("canvasContext.strokeText")?i.strokeText.apply(i,[t,e,n].concat(o)):i.fillText.apply(i,[t,e,n].concat(o));var l;return(l=i._ctx).strokeText.apply(l,[t,e,n].concat(o))}},{key:"createLineProperty",value:function(){var t=this,e=["lineCap","lineJoin","miterLimit","lineWidth"];e.forEach(function(e){Object.defineProperty(t,e,{get:function(){return t.cp[e]},set:function(n){try{return t._wxCompatibiltyProperty(n,e)}catch(i){return t._wxSetPropertyCallable(n,e)}}})});var n="lineDashOffset";Object.defineProperty(t,n,{get:function(){return t.cp[n]},set:function(e){if(a.is.Null(e)||a.is.Undefined(e))return e;if(t.cp[n]===e)return e;if(t.cp[n]=e,t.isWeiXinAPP){if(wx.canIUse("canvasContext.lineDashOffset")&&(t._ctx[n]=e),wx.canIUse("canvasContext.setLineDash")){var i=t.cp.lineDash;return i?t._ctx.setLineDash(i,e):e}}else t._ctx[n]=e}})}},{key:"setLineDash",value:function(t){var e=this;if(a.is.Null(t)||a.is.Undefined(t))return t;if(e.cp.lineDashOffset===t)return t;if(e.cp.lineDash=t,e.isWeiXinAPP){var n=e.lineDashOffset;return e._ctx.setLineDash(t,n)}return e._ctx.setLineDash(t)}},{key:"getLineDash",value:function(){return this.cp.lineDash||[]}},{key:"createRectProperty",value:function(){var t=this;["clearRect","fillRect","strokeRect"].forEach(function(e){t[e]=t._wxCallableMaker(e)})}},{key:"createGradientProperty",value:function(){var t=this;t.createLinearGradient=t._wxCallableMaker("createLinearGradient"),t.addColorStop=t._wxCallableMaker("addColorStop")}},{key:"createRadialGradient",value:function(t,e,n,i,r,o){var a=this;return a.isWeiXinAPP?a._ctx.createCircularGradient(t,e,n):a._ctx.createRadialGradient(t,e,n,i,r,o)}},{key:"createPathProperty",value:function(){var t=this;["beginPath","closePath","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","arc","rect"].forEach(function(e){t[e]=t._wxCallableMaker(e)}),t.arcTo=t._wxCompatibiltyCallableMaker("arcTo"),["fill","stroke"].forEach(function(e){t[e]=function(){var n;return(n=t._ctx)[e].apply(n,arguments)}}),this.clip=t._wxCompatibiltyCallableMaker("clip")}},{key:"createTransformationProperty",value:function(){var t=this;["rotate","scale","translate"].forEach(function(e){t[e]=t._wxCompatibiltyCallableMaker(e)})}},{key:"transform",value:function(){var t=this;try{return t._wxCompatibiltyCallableMaker(value,"setTransform")}catch(e){return t._wxCompatibiltyCallableMaker(value,"transform")}}},{key:"createGlobalAlphaProperty",value:function(){var t=this;["globalAlpha"].forEach(function(e){Object.defineProperty(t,e,{get:function(){return t.cp[e]},set:function(n){try{t._wxCompatibiltyProperty(n,e)}catch(i){t._wxSetPropertyCallable(n,e)}}})})}},{key:"draw",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isWeiXinAPP&&this._ctx.draw(t)}},{key:"createGlobalCompositeOperation",value:function(){var t=this;["globalCompositeOperation"].forEach(function(e){Object.defineProperty(t,e,{get:function(){return t.cp[e]},set:function(n){return t._wxCompatibiltyProperty(n,e)}})})}},{key:"drawImage",value:function(){var t=this;if(t.isWeiXinAPP){if(arguments.length>4&&r(t.systemInfo.SDKVersion,"1.9.0")>=0)throw new Error('WeiXin not support "drawImage(8 args)" function until 1.9.0 version!');var e;return(e=t._ctx).drawImage.apply(e,arguments)}var n;return(n=t._ctx).drawImage.apply(n,arguments)}},{key:"createFileImageProperty",value:function(){this.createPattern=this._wxCompatibiltyCallableMaker("createPattern")}},{key:"getImageData",value:function(t,e,n,i,r){var o=this;if(o.isWeiXinAPP){if(wx.canIUse("wx.canvasGetImageData")){var a={canvasId:o.canvas.domID,x:t,y:e,width:n,height:i,success:r};return wx.canvasGetImageData(a)}throw new Error('WeiXinAPP not support "getImageData" function!')}var l=o._ctx.getImageData(t,e,n,i);r&&r.call(o,l)}},{key:"putImageData",value:function(t,e,n,i){var r=this;if(r.isWeiXinAPP){if(wx.canIUse("wx.canvasPutImageData")){var o={canvasId:r.canvas.domID,data:t.data,x:e,y:n,width:t.width,height:t.height,complete:i};return wx.canvasPutImageData(o)}throw new Error('WeiXinAPP not support "getImageData" function!')}r._ctx.putImageData(t,e,n),i&&i.call(r,t)}},{key:"canvasToTempFilePath",value:function(){var t=this;if(t.isWeiXinAPP){var e;return(e=t._ctx).canvasToTempFilePath.apply(e,arguments)}throw new Error('Browser not support "canvasToTempFilePath" function!')}}]),t}()},{"./helper":32}],38:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.WxBubble=n.WxBar=n.WxLiner=n.WxDoughnut=n.WxChart=n.getChartInstances=void 0;var r=t("./charts/wxChart"),o=i(r),a=t("./charts/doughnut"),l=i(a),u=t("./charts/liner"),s=i(u),c=t("./charts/bar"),f=i(c),h=t("./charts/bubble"),d=i(h);n.getChartInstances=r.getChartInstances,n.WxChart=o.default,n.WxDoughnut=l.default,n.WxLiner=s.default,n.WxBar=f.default,n.WxBubble=d.default},{"./charts/bar":10,"./charts/bubble":11,"./charts/doughnut":12,"./charts/liner":13,"./charts/wxChart":14}]},{},[38])(38)});
//# sourceMappingURL=wx-chart.min.js.map
